// RespVis version 2.0 ESM
// RespVis version 2.0 ESM
var t="background-svgonly",e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)};function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var l=["width","height"],s=/(\d+(?:\.\d+)?)(px|rem|em)/;function u(t){return null!==t.match(s)}var c=/(\d+(?:\.\d+)?)(px|rem|em|%)/;function d(t){return null!==t.match(c)}var h=["horizontal","vertical"],f=["bottom","top"],p=["left","right"],g=o(o([],a(f),!1),a(p),!1),v=/^c-\d+$/;function y(t){return Object.keys(t).reduce((function(t,e){return t[e]=e,t}),{})}var m=30,w={min:5,max:30},x="10000px",b="0px",S="chart",A=0,_="categorical-0",k="no-parent",M={categoricalValuesMismatch:"Number of categorical values does not match with number of reference values!",sequentialColorValuesMismatch:"Number of sequentially colored values does not match with number of reference values!",defaultError:"An internal error occurred in RespVis!",invalidResponsiveValue:"You passed an invalid responisve value object!",invalidExtremaCombination:"You passed an invalid combination of minimum and maximum values!",elementNotExisting:"An accessed element did not exist!",responsiveValueHasNoValues:"A responsive value was not provided with any value!",invalidScaledValuesCombination:"You passed an invalid scale for the corresponding domain of values!",invalidArgumentForSeries:"You passed an invalid argument for a specific type of series!",missingArgumentForSeries:"You did not pass a necessary argument for a specific type of series!",invalidWindowsSetting:"Currently a setting is set to an invalid value!",evaluatingCSSUnitError:"Evaluating CSS unit was not successful. Make sure to pass necessary context information!",convertingInvalidUnit:"Invalid unit cannot be converted!",emptyValueArrayProvided:"The array of values passed to RespVis was empty!",parcoordMinAxesCount:"Parcoord Chart must have a minimal axis count of 2!"},C={"--layout-width":0,"--layout-width-pre-breakpoint":"0rem","--layout-width-post-breakpoint":"0rem","--layout-height":0,"--layout-height-pre-breakpoint":"0rem","--layout-height-post-breakpoint":"0rem","--min-radius":"0","--max-radius":"0"},D=y(C),V=Object.keys(C),T=["cursor--invert-vertical","cursor--invert-up","cursor--invert-horizontal","cursor--invert-right","cursor--range-vertical","cursor--range-up","cursor--range-horizontal","cursor--range-left","cursor--range-rect","cursor--range-rect-horizontal","cursor--drag-horizontal","cursor--drag-right-only","cursor--drag-left-only","cursor--drag-vertical","cursor--drag-up-only","cursor--drag-down-only"];function R(t,e){var n=new MutationObserver((function(t){var n,r;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),a=i.next();!a.done;a=i.next()){var o=a.value;"attributes"===o.type&&"class"===o.attributeName&&e()}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}));return n.observe(t,{attributes:!0,attributeFilter:["class"]}),{observer:n}}function z(t){return t.split(/[ ,]+/)}function E(t){var e;return null===(e=t.reduce((function(t,e){return t+(e?" "+e:"")}),""))||void 0===e?void 0:e.trimStart()}function j(t){return t.reduce((function(t,e){return t+"-"+e}))}function F(t){return Object.keys(t).filter((function(e){return t[e]}))}var P=function(){function t(t){this.rawKey=t}return t.prototype.getIndex=function(){var t=this.rawKey.match(/\bi-(\d+)\b/);if(t)return parseInt(t[1])},t.prototype.getSeries=function(){var t=this.rawKey.match(/\bs-(\d+)\b/);if(t)return parseInt(t[1])},t.prototype.getSeriesCategory=function(){var t=this.rawKey.match(/\bs-(\d+)-c-(\d+)\b/);if(t)return[parseInt(t[1]),parseInt(t[2])]},t.prototype.getAxisCategories=function(){for(var t,e=/\ba-(\d+)-c-(\d+)\b/g,n=[];null!==(t=e.exec(this.rawKey));)n.push([parseInt(t[1]),parseInt(t[2])]);return n},t}();function L(t,e,n){var r=t.match(c);if(!r)return 0;var i=a(r,3),o=i[1],l=i[2],s="string"==typeof o?parseFloat(o):o;if("px"===l)return s;if("rem"===l)return s*parseFloat(getComputedStyle(document.documentElement).fontSize);if("em"===l&&e)return s*parseFloat(getComputedStyle(e).fontSize);if("em"===l&&!e)throw new Error(M.evaluatingCSSUnitError);if("%"===l&&e&&n)return s/100*e.getBoundingClientRect()[n];if(!("%"!==l||e&&n))throw new Error(M.evaluatingCSSUnitError);throw new Error(M.evaluatingCSSUnitError)}function I(t,e,n){var r=getComputedStyle(t).getPropertyValue(e);return u(r)?L(r,t):n}function O(t,e,n){return t>n?n:t<e?e:t}function N(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function B(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function K(t){let e,n,r;function i(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{const e=i+a>>>1;n(t[e],r)<0?i=e+1:a=e}while(i<a)}return i}return 2!==t.length?(e=N,n=(e,n)=>N(t(e),n),r=(e,n)=>t(e)-n):(e=t===N||t===B?t:U,n=t,r=t),{left:i,center:function(t,e,n=0,a=t.length){const o=i(t,e,n,a-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{const e=i+a>>>1;n(t[e],r)<=0?i=e+1:a=e}while(i<a)}return i}}}function U(){return 0}const Y=K(N).right;K((function(t){return null===t?NaN:+t})).center;var H=Y;class q extends Map{constructor(t,e=X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get($(this,t))}has(t){return super.has($(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function $({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function X(t){return null!==t&&"object"==typeof t?t.valueOf():t}const W=Math.sqrt(50),Z=Math.sqrt(10),G=Math.sqrt(2);function Q(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=W?10:a>=Z?5:a>=G?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),s=Math.round(e*u),l/u<t&&++l,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),s=Math.round(e/u),l*u<t&&++l,s*u>e&&--s),s<l&&.5<=n&&n<2?Q(t,e,2*n):[l,s,u]}function J(t,e,n){return Q(t=+t,e=+e,n=+n)[2]}function tt(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?J(e,t,n):J(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function et(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}function nt(t){return t}var rt=1,it=2,at=3,ot=4,lt=1e-6;function st(t){return"translate("+t+",0)"}function ut(t){return"translate(0,"+t+")"}function ct(t){return e=>+t(e)}function dt(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ht(){return!this.__axis}function ft(t,e){var n=[],r=null,i=null,a=6,o=6,l=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=t===rt||t===ot?-1:1,c=t===ot||t===it?"x":"y",d=t===rt||t===at?st:ut;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):nt:i,g=Math.max(a,0)+l,v=e.range(),y=+v[0]+s,m=+v[v.length-1]+s,w=(e.bandwidth?dt:ct)(e.copy(),s),x=h.selection?h.selection():h,b=x.selectAll(".domain").data([null]),S=x.selectAll(".tick").data(f,e).order(),A=S.exit(),_=S.enter().append("g").attr("class","tick"),k=S.select("line"),M=S.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(_),k=k.merge(_.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),M=M.merge(_.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy",t===rt?"0em":t===at?"0.71em":"0.32em")),h!==x&&(b=b.transition(h),S=S.transition(h),k=k.transition(h),M=M.transition(h),A=A.transition(h).attr("opacity",lt).attr("transform",(function(t){return isFinite(t=w(t))?d(t+s):this.getAttribute("transform")})),_.attr("opacity",lt).attr("transform",(function(t){var e=this.parentNode.__axis;return d((e&&isFinite(e=e(t))?e:w(t))+s)}))),A.remove(),b.attr("d",t===ot||t===it?o?"M"+u*o+","+y+"H"+s+"V"+m+"H"+u*o:"M"+s+","+y+"V"+m:o?"M"+y+","+u*o+"V"+s+"H"+m+"V"+u*o:"M"+y+","+s+"H"+m),S.attr("opacity",1).attr("transform",(function(t){return d(w(t)+s)})),k.attr(c+"2",u*a),M.attr(c,u*g).text(p),x.filter(ht).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===it?"start":t===ot?"end":"middle"),x.each((function(){this.__axis=w}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(l=+t,h):l},h.offset=function(t){return arguments.length?(s=+t,h):s},h}function pt(t){return ft(rt,t)}function gt(t){return ft(it,t)}function vt(t){return ft(at,t)}function yt(t){return ft(ot,t)}var mt={value:()=>{}};function wt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new xt(r)}function xt(t){this._=t}function bt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function St(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=mt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}xt.prototype=wt.prototype={constructor:xt,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,l=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<l;)if(n=(t=a[o]).type)i[n]=St(i[n],t.name,e);else if(null==e)for(n in i)i[n]=St(i[n],t.name,null);return this}for(;++o<l;)if((n=(t=a[o]).type)&&(n=bt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var At="http://www.w3.org/1999/xhtml",_t={svg:"http://www.w3.org/2000/svg",xhtml:At,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),_t.hasOwnProperty(e)?{space:_t[e],local:t}:t}function Mt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===At&&e.documentElement.namespaceURI===At?e.createElement(t):e.createElementNS(n,t)}}function Ct(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Dt(t){var e=kt(t);return(e.local?Ct:Mt)(e)}function Vt(){}function Tt(t){return null==t?Vt:function(){return this.querySelector(t)}}function Rt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function zt(){return[]}function Et(t){return null==t?zt:function(){return this.querySelectorAll(t)}}function jt(t){return function(){return this.matches(t)}}function Ft(t){return function(e){return e.matches(t)}}var Pt=Array.prototype.find;function Lt(){return this.firstElementChild}var It=Array.prototype.filter;function Ot(){return Array.from(this.children)}function Nt(t){return new Array(t.length)}function Bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Kt(t,e,n,r,i,a){for(var o,l=0,s=e.length,u=a.length;l<u;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new Bt(t,a[l]);for(;l<s;++l)(o=e[l])&&(i[l]=o)}function Ut(t,e,n,r,i,a,o){var l,s,u,c=new Map,d=e.length,h=a.length,f=new Array(d);for(l=0;l<d;++l)(s=e[l])&&(f[l]=u=o.call(s,s.__data__,l,e)+"",c.has(u)?i[l]=s:c.set(u,s));for(l=0;l<h;++l)u=o.call(t,a[l],l,a)+"",(s=c.get(u))?(r[l]=s,s.__data__=a[l],c.delete(u)):n[l]=new Bt(t,a[l]);for(l=0;l<d;++l)(s=e[l])&&c.get(f[l])===s&&(i[l]=s)}function Yt(t){return t.__data__}function Ht(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function qt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $t(t){return function(){this.removeAttribute(t)}}function Xt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wt(t,e){return function(){this.setAttribute(t,e)}}function Zt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Qt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Jt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function te(t){return function(){this.style.removeProperty(t)}}function ee(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ne(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function re(t,e){return t.style.getPropertyValue(e)||Jt(t).getComputedStyle(t,null).getPropertyValue(e)}function ie(t){return function(){delete this[t]}}function ae(t,e){return function(){this[t]=e}}function oe(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function le(t){return t.trim().split(/^|\s+/)}function se(t){return t.classList||new ue(t)}function ue(t){this._node=t,this._names=le(t.getAttribute("class")||"")}function ce(t,e){for(var n=se(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function de(t,e){for(var n=se(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function he(t){return function(){ce(this,t)}}function fe(t){return function(){de(this,t)}}function pe(t,e){return function(){(e.apply(this,arguments)?ce:de)(this,t)}}function ge(){this.textContent=""}function ve(t){return function(){this.textContent=t}}function ye(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function me(){this.innerHTML=""}function we(t){return function(){this.innerHTML=t}}function xe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function be(){this.nextSibling&&this.parentNode.appendChild(this)}function Se(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ae(){return null}function _e(){var t=this.parentNode;t&&t.removeChild(this)}function ke(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Me(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ce(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function De(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Ve(t,e,n){var r=Jt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Te(t,e){return function(){return Ve(this,t,e)}}function Re(t,e){return function(){return Ve(this,t,e.apply(this,arguments))}}Bt.prototype={constructor:Bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ue.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ze=[null];function Ee(t,e){this._groups=t,this._parents=e}function je(){return new Ee([[document.documentElement]],ze)}function Fe(t){return"string"==typeof t?new Ee([[document.querySelector(t)]],[document.documentElement]):new Ee([[t]],ze)}function Pe(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Le(t){return"string"==typeof t?new Ee([document.querySelectorAll(t)],[document.documentElement]):new Ee([Rt(t)],ze)}Ee.prototype=je.prototype={constructor:Ee,select:function(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=e[i],s=l.length,u=r[i]=new Array(s),c=0;c<s;++c)(a=l[c])&&(o=t.call(a,a.__data__,c,l))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Ee(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Rt(t.apply(this,arguments))}}(t):Et(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,l=e[a],s=l.length,u=0;u<s;++u)(o=l[u])&&(r.push(t.call(o,o.__data__,u,l)),i.push(o));return new Ee(r,i)},selectChild:function(t){return this.select(null==t?Lt:function(t){return function(){return Pt.call(this.children,t)}}("function"==typeof t?t:Ft(t)))},selectChildren:function(t){return this.selectAll(null==t?Ot:function(t){return function(){return It.call(this.children,t)}}("function"==typeof t?t:Ft(t)))},filter:function(t){"function"!=typeof t&&(t=jt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,s=r[i]=[],u=0;u<l;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new Ee(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Yt);var n,r=e?Ut:Kt,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,l=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var d=i[c],h=a[c],f=h.length,p=Ht(t.call(d,d&&d.__data__,c,i)),g=p.length,v=s[c]=new Array(g),y=l[c]=new Array(g);r(d,h,v,y,u[c]=new Array(f),p,e);for(var m,w,x=0,b=0;x<g;++x)if(m=v[x]){for(x>=b&&(b=x+1);!(w=y[b])&&++b<g;);m._next=w||null}}return(l=new Ee(l,i))._enter=s,l._exit=u,l},enter:function(){return new Ee(this._enter||this._groups.map(Nt),this._parents)},exit:function(){return new Ee(this._exit||this._groups.map(Nt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var u,c=n[s],d=r[s],h=c.length,f=l[s]=new Array(h),p=0;p<h;++p)(u=c[p]||d[p])&&(f[p]=u);for(;s<i;++s)l[s]=n[s];return new Ee(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=qt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],s=l.length,u=i[a]=new Array(s),c=0;c<s;++c)(o=l[c])&&(u[c]=o);u.sort(e)}return new Ee(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=kt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Xt:$t:"function"==typeof e?n.local?Qt:Gt:n.local?Zt:Wt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?te:"function"==typeof e?ne:ee)(t,e,null==n?"":n)):re(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ie:"function"==typeof e?oe:ae)(t,e)):this.node()[t]},classed:function(t,e){var n=le(t+"");if(arguments.length<2){for(var r=se(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?pe:e?he:fe)(n,e))},text:function(t){return arguments.length?this.each(null==t?ge:("function"==typeof t?ye:ve)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?me:("function"==typeof t?xe:we)(t)):this.node().innerHTML},raise:function(){return this.each(be)},lower:function(){return this.each(Se)},append:function(t){var e="function"==typeof t?t:Dt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Dt(t),r=null==e?Ae:"function"==typeof e?e:Tt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(_e)},clone:function(t){return this.select(t?Me:ke)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?De:Ce,r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Re:Te)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const Ie={passive:!1},Oe={capture:!0,passive:!1};function Ne(t){t.stopImmediatePropagation()}function Be(t){t.preventDefault(),t.stopImmediatePropagation()}function Ke(t){var e=t.document.documentElement,n=Fe(t).on("dragstart.drag",Be,Oe);"onselectstart"in e?n.on("selectstart.drag",Be,Oe):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ue(t,e){var n=t.document.documentElement,r=Fe(t).on("dragstart.drag",null);e&&(r.on("click.drag",Be,Oe),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ye=t=>()=>t;function He(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:s,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}function qe(t){return!t.ctrlKey&&!t.button}function $e(){return this.parentNode}function Xe(t,e){return null==e?{x:t.x,y:t.y}:e}function We(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ze(){var t,e,n,r,i=qe,a=$e,o=Xe,l=We,s={},u=wt("start","drag","end"),c=0,d=0;function h(t){t.on("mousedown.drag",f).filter(l).on("touchstart.drag",v).on("touchmove.drag",y,Ie).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(o,l){if(!r&&i.call(this,o,l)){var s=w(this,a.call(this,o,l),o,l,"mouse");s&&(Fe(o.view).on("mousemove.drag",p,Oe).on("mouseup.drag",g,Oe),Ke(o.view),Ne(o),n=!1,t=o.clientX,e=o.clientY,s("start",o))}}function p(r){if(Be(r),!n){var i=r.clientX-t,a=r.clientY-e;n=i*i+a*a>d}s.mouse("drag",r)}function g(t){Fe(t.view).on("mousemove.drag mouseup.drag",null),Ue(t.view,n),Be(t),s.mouse("end",t)}function v(t,e){if(i.call(this,t,e)){var n,r,o=t.changedTouches,l=a.call(this,t,e),s=o.length;for(n=0;n<s;++n)(r=w(this,l,t,e,o[n].identifier,o[n]))&&(Ne(t),r("start",t,o[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=s[r[e].identifier])&&(Be(t),n("drag",t,r[e]))}function m(t){var e,n,i=t.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<a;++e)(n=s[i[e].identifier])&&(Ne(t),n("end",t,i[e]))}function w(t,e,n,r,i,a){var l,d,f,p=u.copy(),g=Pe(a||n,e);if(null!=(f=o.call(t,new He("beforestart",{sourceEvent:n,target:h,identifier:i,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return l=f.x-g[0]||0,d=f.y-g[1]||0,function n(a,o,u){var v,y=g;switch(a){case"start":s[i]=n,v=c++;break;case"end":delete s[i],--c;case"drag":g=Pe(u||o,e),v=c}p.call(a,t,new He(a,{sourceEvent:o,subject:f,target:h,identifier:i,active:v,x:g[0]+l,y:g[1]+d,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Ye(!!t),h):i},h.container=function(t){return arguments.length?(a="function"==typeof t?t:Ye(t),h):a},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:Ye(t),h):o},h.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Ye(!!t),h):l},h.on=function(){var t=u.on.apply(u,arguments);return t===u?h:t},h.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,h):Math.sqrt(d)},h}function Ge(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Je(){}He.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var tn=.7,en=1/tn,nn="\\s*([+-]?\\d+)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",on=/^#([0-9a-f]{3,8})$/,ln=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),sn=new RegExp(`^rgb\\(${an},${an},${an}\\)$`),un=new RegExp(`^rgba\\(${nn},${nn},${nn},${rn}\\)$`),cn=new RegExp(`^rgba\\(${an},${an},${an},${rn}\\)$`),dn=new RegExp(`^hsl\\(${rn},${an},${an}\\)$`),hn=new RegExp(`^hsla\\(${rn},${an},${an},${rn}\\)$`),fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pn(){return this.rgb().formatHex()}function gn(){return this.rgb().formatRgb()}function vn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=on.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?yn(e):3===n?new xn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?mn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?mn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ln.exec(t))?new xn(e[1],e[2],e[3],1):(e=sn.exec(t))?new xn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=un.exec(t))?mn(e[1],e[2],e[3],e[4]):(e=cn.exec(t))?mn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=dn.exec(t))?Mn(e[1],e[2]/100,e[3]/100,1):(e=hn.exec(t))?Mn(e[1],e[2]/100,e[3]/100,e[4]):fn.hasOwnProperty(t)?yn(fn[t]):"transparent"===t?new xn(NaN,NaN,NaN,0):null}function yn(t){return new xn(t>>16&255,t>>8&255,255&t,1)}function mn(t,e,n,r){return r<=0&&(t=e=n=NaN),new xn(t,e,n,r)}function wn(t,e,n,r){return 1===arguments.length?((i=t)instanceof Je||(i=vn(i)),i?new xn((i=i.rgb()).r,i.g,i.b,i.opacity):new xn):new xn(t,e,n,null==r?1:r);var i}function xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function bn(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function Sn(){const t=An(this.opacity);return`${1===t?"rgb(":"rgba("}${_n(this.r)}, ${_n(this.g)}, ${_n(this.b)}${1===t?")":`, ${t})`}`}function An(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _n(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kn(t){return((t=_n(t))<16?"0":"")+t.toString(16)}function Mn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dn(t,e,n,r)}function Cn(t){if(t instanceof Dn)return new Dn(t.h,t.s,t.l,t.opacity);if(t instanceof Je||(t=vn(t)),!t)return new Dn;if(t instanceof Dn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Dn(o,l,s,t.opacity)}function Dn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Vn(t){return(t=(t||0)%360)<0?t+360:t}function Tn(t){return Math.max(0,Math.min(1,t||0))}function Rn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ge(Je,vn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pn,formatHex:pn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Cn(this).formatHsl()},formatRgb:gn,toString:gn}),Ge(xn,wn,Qe(Je,{brighter(t){return t=null==t?en:Math.pow(en,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?tn:Math.pow(tn,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xn(_n(this.r),_n(this.g),_n(this.b),An(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bn,formatHex:bn,formatHex8:function(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Sn,toString:Sn})),Ge(Dn,(function(t,e,n,r){return 1===arguments.length?Cn(t):new Dn(t,e,n,null==r?1:r)}),Qe(Je,{brighter(t){return t=null==t?en:Math.pow(en,t),new Dn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?tn:Math.pow(tn,t),new Dn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xn(Rn(t>=240?t-240:t+120,i,r),Rn(t,i,r),Rn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Dn(Vn(this.h),Tn(this.s),Tn(this.l),An(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=An(this.opacity);return`${1===t?"hsl(":"hsla("}${Vn(this.h)}, ${100*Tn(this.s)}%, ${100*Tn(this.l)}%${1===t?")":`, ${t})`}`}}));var zn=t=>()=>t;function En(t){return 1==(t=+t)?jn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):zn(isNaN(e)?n:e)}}function jn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):zn(isNaN(t)?e:t)}var Fn=function t(e){var n=En(e);function r(t,e){var r=n((t=wn(t)).r,(e=wn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=jn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Pn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function Ln(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Yn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function In(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function On(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Yn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp(Bn.source,"g");function Un(t,e){var n,r,i,a=Bn.lastIndex=Kn.lastIndex=0,o=-1,l=[],s=[];for(t+="",e+="";(n=Bn.exec(t))&&(r=Kn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:On(n,r)})),a=Kn.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function Yn(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?zn(e):("number"===i?On:"string"===i?(n=vn(e))?(e=n,Fn):Un:e instanceof vn?Fn:e instanceof Date?In:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Ln:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Nn:On:Pn))(t,e)}function Hn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var qn,$n=180/Math.PI,Xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wn(t,e,n,r,i,a){var o,l,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*$n,skewX:Math.atan(s)*$n,scaleX:o,scaleY:l}}function Zn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var s=o.push("translate(",null,e,null,n);l.push({i:s-4,x:On(t,i)},{i:s-2,x:On(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,s),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:On(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,l,s),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:On(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,l,s),function(t,e,n,r,a,o){if(t!==n||e!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:On(t,n)},{i:l-2,x:On(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,s),a=o=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var Gn=Zn((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xn:Wn(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Qn=Zn((function(t){return null==t?Xn:(qn||(qn=document.createElementNS("http://www.w3.org/2000/svg","g")),qn.setAttribute("transform",t),(t=qn.transform.baseVal.consolidate())?Wn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Xn)}),", ",")",")");function Jn(t){return((t=Math.exp(t))+1/t)/2}var tr,er,nr=function t(e,n,r){function i(t,i){var a,o,l=t[0],s=t[1],u=t[2],c=i[0],d=i[1],h=i[2],f=c-l,p=d-s,g=f*f+p*p;if(g<1e-12)o=Math.log(h/u)/e,a=function(t){return[l+t*f,s+t*p,u*Math.exp(e*t*o)]};else{var v=Math.sqrt(g),y=(h*h-u*u+r*g)/(2*u*n*v),m=(h*h-u*u-r*g)/(2*h*n*v),w=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(m*m+1)-m);o=(x-w)/e,a=function(t){var r,i=t*o,a=Jn(w),c=u/(n*v)*(a*(r=e*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[l+c*f,s+c*p,u*a/Jn(e*i+w)]}}return a.duration=1e3*o*e/Math.SQRT2,a}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),rr=0,ir=0,ar=0,or=1e3,lr=0,sr=0,ur=0,cr="object"==typeof performance&&performance.now?performance:Date,dr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hr(){return sr||(dr(fr),sr=cr.now()+ur)}function fr(){sr=0}function pr(){this._call=this._time=this._next=null}function gr(t,e,n){var r=new pr;return r.restart(t,e,n),r}function vr(){sr=(lr=cr.now())+ur,rr=ir=0;try{!function(){hr(),++rr;for(var t,e=tr;e;)(t=sr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rr}()}finally{rr=0,function(){var t,e,n=tr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:tr=e);er=t,mr(r)}(),sr=0}}function yr(){var t=cr.now(),e=t-lr;e>or&&(ur-=e,lr=t)}function mr(t){rr||(ir&&(ir=clearTimeout(ir)),t-sr>24?(t<1/0&&(ir=setTimeout(vr,t-cr.now()-ur)),ar&&(ar=clearInterval(ar))):(ar||(lr=cr.now(),ar=setInterval(yr,or)),rr=1,dr(vr)))}function wr(t,e,n){var r=new pr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}pr.prototype=gr.prototype={constructor:pr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?hr():+n)+(null==e?0:+e),this._next||er===this||(er?er._next=this:tr=this,er=this),this._call=t,this._time=n,mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,mr())}};var xr=wt("start","end","cancel","interrupt"),br=[],Sr=0,Ar=1,_r=2,kr=3,Mr=4,Cr=5,Dr=6;function Vr(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(t){n.state=Ar,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var u,c,d,h;if(n.state!==Ar)return s();for(u in i)if((h=i[u]).name===n.name){if(h.state===kr)return wr(o);h.state===Mr?(h.state=Dr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<e&&(h.state=Dr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(wr((function(){n.state===kr&&(n.state=Mr,n.timer.restart(l,n.delay,n.time),l(a))})),n.state=_r,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_r){for(n.state=kr,r=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Cr,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===Cr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Dr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=gr(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:xr,tween:br,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Sr})}function Tr(t,e){var n=zr(t,e);if(n.state>Sr)throw new Error("too late; already scheduled");return n}function Rr(t,e){var n=zr(t,e);if(n.state>kr)throw new Error("too late; already running");return n}function zr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Er(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>_r&&n.state<Cr,n.state=Dr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}function jr(t,e){var n,r;return function(){var i=Rr(this,t),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Fr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Rr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=l;break}s===u&&i.push(l)}a.tween=i}}function Pr(t,e,n){var r=t._id;return t.each((function(){var t=Rr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return zr(t,r).value[e]}}function Lr(t,e){var n;return("number"==typeof e?On:e instanceof vn?Fn:(n=vn(e))?(e=n,Fn):Un)(t,e)}function Ir(t){return function(){this.removeAttribute(t)}}function Or(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function Br(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function Kr(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttribute(t)}}function Ur(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttributeNS(t.space,t.local)}}function Yr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Hr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function qr(t,e){return function(){Tr(this,t).delay=+e.apply(this,arguments)}}function $r(t,e){return e=+e,function(){Tr(this,t).delay=e}}function Xr(t,e){return function(){Rr(this,t).duration=+e.apply(this,arguments)}}function Wr(t,e){return e=+e,function(){Rr(this,t).duration=e}}var Zr=je.prototype.constructor;function Gr(t){return function(){this.style.removeProperty(t)}}var Qr=0;function Jr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ti(){return++Qr}var ei=je.prototype;function ni(t){return--t*t*t+1}Jr.prototype={constructor:Jr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Tt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,s,u=r[o],c=u.length,d=a[o]=new Array(c),h=0;h<c;++h)(l=u[h])&&(s=t.call(l,l.__data__,h,u))&&("__data__"in l&&(s.__data__=l.__data__),d[h]=s,Vr(d[h],e,n,h,d,zr(l,n)));return new Jr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Et(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s,u=r[l],c=u.length,d=0;d<c;++d)if(s=u[d]){for(var h,f=t.call(s,s.__data__,d,u),p=zr(s,n),g=0,v=f.length;g<v;++g)(h=f[g])&&Vr(h,e,n,g,f,p);a.push(f),o.push(s)}return new Jr(a,o,e,n)},selectChild:ei.selectChild,selectChildren:ei.selectChildren,filter:function(t){"function"!=typeof t&&(t=jt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,s=r[i]=[],u=0;u<l;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new Jr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,u=e[l],c=n[l],d=u.length,h=o[l]=new Array(d),f=0;f<d;++f)(s=u[f]||c[f])&&(h[f]=s);for(;l<r;++l)o[l]=e[l];return new Jr(o,this._parents,this._name,this._id)},selection:function(){return new Zr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ti(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)if(o=l[u]){var c=zr(o,e);Vr(o,t,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jr(r,this._parents,t,n)},call:ei.call,nodes:ei.nodes,node:ei.node,size:ei.size,empty:ei.empty,each:ei.each,on:function(t,e){var n=this._id;return arguments.length<2?zr(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Tr:Rr;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=kt(t),r="transform"===n?Qn:Lr;return this.attrTween(t,"function"==typeof e?(n.local?Ur:Kr)(n,r,Pr(this,"attr."+t,e)):null==e?(n.local?Or:Ir)(n):(n.local?Br:Nr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=kt(t);return this.tween(n,(r.local?Yr:Hr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Gn:Lr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=re(this,t),o=(this.style.removeProperty(t),re(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Gr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=re(this,t),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=re(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,l))}}(t,r,Pr(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,l="end."+o;return function(){var s=Rr(this,t),u=s.on,c=null==s.value[o]?a||(a=Gr(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(l,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=re(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Pr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=zr(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?jr:Fr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?qr:$r)(e,t)):zr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xr:Wr)(e,t)):zr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Rr(this,t).ease=e}}(e,t)):zr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Rr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var l={value:o},s={value:function(){0==--i&&a()}};n.each((function(){var n=Rr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e})),0===i&&a()}))},[Symbol.iterator]:ei[Symbol.iterator]};var ri={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ii(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ai(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function oi(t){return(t=ai(Math.abs(t)))?t[1]:NaN}je.prototype.interrupt=function(t){return this.each((function(){Er(this,t)}))},je.prototype.transition=function(t){var e,n;t instanceof Jr?(e=t._id,t=t._name):(e=ti(),(n=ri).time=hr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)(o=l[u])&&Vr(o,t,e,u,l,n||ii(o,e));return new Jr(r,this._parents,t,e)};var li,si=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ui(t){if(!(e=si.exec(t)))throw new Error("invalid format: "+t);var e;return new ci({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ci(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function di(t,e){var n=ai(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ui.prototype=ci.prototype,ci.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>di(100*t,e),r:di,s:function(t,e){var n=ai(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(li=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ai(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fi(t){return t}var pi,gi,vi,yi=Array.prototype.map,mi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wi(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?fi:(e=yi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(t.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?fi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(yi.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=ui(t)).fill,n=t.align,d=t.sign,h=t.symbol,f=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):hi[m]||(void 0===v&&(v=12),y=!0,m="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",x="$"===h?a:/[%p]/.test(m)?s:"",b=hi[m],S=/[defgprs%]/.test(m);function A(t){var i,a,s,h=w,A=x;if("c"===m)A=b(t)+A,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),v),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),_&&0==+t&&"+"!==d&&(_=!1),h=(_?"("===d?d:u:"-"===d||"("===d?"":d)+h,A=("s"===m?mi[8+li/3]:"")+A+(_&&"("===d?")":""),S)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){A=(46===s?o+t.slice(i+1):t.slice(i))+A,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var k=h.length+t.length+A.length,M=k<p?new Array(p-k+1).join(e):"";switch(g&&f&&(t=r(M+t,M.length?p-A.length:1/0),M=""),n){case"<":t=h+t+A+M;break;case"=":t=h+M+t+A;break;case"^":t=M.slice(0,k=M.length>>1)+h+t+A+M.slice(k);break;default:t=M+h+t+A}return l(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),A.toString=function(){return t+""},A}return{format:d,formatPrefix:function(t,e){var n=d(((t=ui(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(oi(e)/3))),i=Math.pow(10,-r),a=mi[8+r/3];return function(t){return n(i*t)+a}}}}function xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function bi(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}pi=wi({thousands:",",grouping:[3],currency:["$",""]}),gi=pi.format,vi=pi.formatPrefix;const Si=Symbol("implicit");function Ai(){var t=new q,e=[],n=[],r=Si;function i(i){let a=t.get(i);if(void 0===a){if(r!==Si)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new q;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ai(e,n).unknown(r)},xi.apply(i,arguments),i}function _i(){var t,e,n=Ai().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,l=!1,s=0,u=0,c=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;t=(f-h)/Math.max(1,n-s+2*u),l&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*c,e=t*(1-s),l&&(h=Math.round(h),e=Math.round(e));var p=et(n).map((function(e){return h+t*e}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),d()):r()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,l=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,d()):l},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),d()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),d()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,d()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),d()):c},n.copy=function(){return _i(r(),[a,o]).round(l).paddingInner(s).paddingOuter(u).align(c)},xi.apply(d(),arguments)}function ki(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ki(e())},t}function Mi(){return ki(_i.apply(null,arguments).paddingInner(1))}function Ci(t){return+t}var Di=[0,1];function Vi(t){return t}function Ti(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Ri(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ti(i,r),a=n(o,a)):(r=Ti(r,i),a=n(a,o)),function(t){return a(r(t))}}function zi(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ti(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=H(t,e,1,r)-1;return a[n](i[n](e))}}function Ei(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ji(){var t,e,n,r,i,a,o=Di,l=Di,s=Yn,u=Vi;function c(){var t,e,n,s=Math.min(o.length,l.length);return u!==Vi&&(t=o[0],e=o[s-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?zi:Ri,i=a=null,d}function d(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),l,s)))(t(u(e)))}return d.invert=function(n){return u(e((a||(a=r(l,o.map(t),On)))(n)))},d.domain=function(t){return arguments.length?(o=Array.from(t,Ci),c()):o.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),c()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),s=Hn,c()},d.clamp=function(t){return arguments.length?(u=!!t||Vi,c()):u!==Vi},d.interpolate=function(t){return arguments.length?(s=t,c()):s},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,c()}}function Fi(){return ji()(Vi,Vi)}function Pi(t,e,n,r){var i,a=tt(t,e,n);switch((r=ui(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(oi(e)/3)))-oi(Math.abs(t)))}(a,o))||(r.precision=i),vi(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,oi(e)-oi(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-oi(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return gi(r)}function Li(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,a,o]=r?Q(e,t,n):Q(t,e,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let t=0;t<l;++t)s[t]=(a-t)/-o;else for(let t=0;t<l;++t)s[t]=(a-t)*o;else if(o<0)for(let t=0;t<l;++t)s[t]=(i+t)/-o;else for(let t=0;t<l;++t)s[t]=(i+t)*o;return s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Pi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,l=a.length-1,s=a[o],u=a[l],c=10;for(u<s&&(i=s,s=u,u=i,i=o,o=l,l=i);c-- >0;){if((i=J(s,u,n))===r)return a[o]=s,a[l]=u,e(a);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function Ii(){var t=Fi();return t.copy=function(){return Ei(t,Ii())},xi.apply(t,arguments),Li(t)}function Oi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ni(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Bi(t){return t<0?-t*t:t*t}function Ki(t){var e=t(Vi,Vi),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(Vi,Vi):.5===n?t(Ni,Bi):t(Oi(n),Oi(1/n)):n},Li(e)}function Ui(){var t=Ki(ji());return t.copy=function(){return Ei(t,Ui()).exponent(t.exponent())},xi.apply(t,arguments),t}const Yi=new Date,Hi=new Date;function qi(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return o;let l;do{o.push(l=new Date(+n)),e(n,a),t(n)}while(l<n&&n<r);return o},i.filter=n=>qi((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(Yi.setTime(+e),Hi.setTime(+r),t(Yi),t(Hi),Math.floor(n(Yi,Hi))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const $i=qi((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));$i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?qi((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):$i:null),$i.range;const Xi=1e3,Wi=6e4,Zi=36e5,Gi=864e5,Qi=6048e5,Ji=2592e6,ta=31536e6,ea=qi((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*Xi)}),((t,e)=>(e-t)/Xi),(t=>t.getUTCSeconds()));ea.range;const na=qi((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi)}),((t,e)=>{t.setTime(+t+e*Wi)}),((t,e)=>(e-t)/Wi),(t=>t.getMinutes()));na.range;const ra=qi((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*Wi)}),((t,e)=>(e-t)/Wi),(t=>t.getUTCMinutes()));ra.range;const ia=qi((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi-t.getMinutes()*Wi)}),((t,e)=>{t.setTime(+t+e*Zi)}),((t,e)=>(e-t)/Zi),(t=>t.getHours()));ia.range;const aa=qi((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*Zi)}),((t,e)=>(e-t)/Zi),(t=>t.getUTCHours()));aa.range;const oa=qi((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wi)/Gi),(t=>t.getDate()-1));oa.range;const la=qi((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Gi),(t=>t.getUTCDate()-1));la.range;const sa=qi((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Gi),(t=>Math.floor(t/Gi)));function ua(t){return qi((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wi)/Qi))}sa.range;const ca=ua(0),da=ua(1),ha=ua(2),fa=ua(3),pa=ua(4),ga=ua(5),va=ua(6);function ya(t){return qi((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Qi))}ca.range,da.range,ha.range,fa.range,pa.range,ga.range,va.range;const ma=ya(0),wa=ya(1),xa=ya(2),ba=ya(3),Sa=ya(4),Aa=ya(5),_a=ya(6);ma.range,wa.range,xa.range,ba.range,Sa.range,Aa.range,_a.range;const ka=qi((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));ka.range;const Ma=qi((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));Ma.range;const Ca=qi((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));Ca.every=t=>isFinite(t=Math.floor(t))&&t>0?qi((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,Ca.range;const Da=qi((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));Da.every=t=>isFinite(t=Math.floor(t))&&t>0?qi((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,Da.range;const[Va,Ta]=function(t,e,n,r,i,a){const o=[[ea,1,Xi],[ea,5,5e3],[ea,15,15e3],[ea,30,3e4],[a,1,Wi],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Zi],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Gi],[r,2,1728e5],[n,1,Qi],[e,1,Ji],[e,3,7776e6],[t,1,ta]];function l(e,n,r){const i=Math.abs(n-e)/r,a=K((([,,t])=>t)).right(o,i);if(a===o.length)return t.every(tt(e/ta,n/ta,r));if(0===a)return $i.every(Math.max(tt(e,n,r),1));const[l,s]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return l.every(s)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:l(t,e,n),a=i?i.range(t,+e+1):[];return r?a.reverse():a},l]}(Ca,ka,ca,oa,ia,na);function Ra(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function za(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ea(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ja,Fa,Pa={"-":"",_:" ",0:"0"},La=/^\s*\d+/,Ia=/^%/,Oa=/[\\^$*+?|[\]().{}]/g;function Na(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ba(t){return t.replace(Oa,"\\$&")}function Ka(t){return new RegExp("^(?:"+t.map(Ba).join("|")+")","i")}function Ua(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Ya(t,e,n){var r=La.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ha(t,e,n){var r=La.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qa(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $a(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Xa(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wa(t,e,n){var r=La.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Za(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ga(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qa(t,e,n){var r=La.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ja(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function to(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eo(t,e,n){var r=La.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function no(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ro(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function io(t,e,n){var r=La.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ao(t,e,n){var r=La.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oo(t,e,n){var r=La.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lo(t,e,n){var r=Ia.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function so(t,e,n){var r=La.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uo(t,e,n){var r=La.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function co(t,e){return Na(t.getDate(),e,2)}function ho(t,e){return Na(t.getHours(),e,2)}function fo(t,e){return Na(t.getHours()%12||12,e,2)}function po(t,e){return Na(1+oa.count(Ca(t),t),e,3)}function go(t,e){return Na(t.getMilliseconds(),e,3)}function vo(t,e){return go(t,e)+"000"}function yo(t,e){return Na(t.getMonth()+1,e,2)}function mo(t,e){return Na(t.getMinutes(),e,2)}function wo(t,e){return Na(t.getSeconds(),e,2)}function xo(t){var e=t.getDay();return 0===e?7:e}function bo(t,e){return Na(ca.count(Ca(t)-1,t),e,2)}function So(t){var e=t.getDay();return e>=4||0===e?pa(t):pa.ceil(t)}function Ao(t,e){return t=So(t),Na(pa.count(Ca(t),t)+(4===Ca(t).getDay()),e,2)}function _o(t){return t.getDay()}function ko(t,e){return Na(da.count(Ca(t)-1,t),e,2)}function Mo(t,e){return Na(t.getFullYear()%100,e,2)}function Co(t,e){return Na((t=So(t)).getFullYear()%100,e,2)}function Do(t,e){return Na(t.getFullYear()%1e4,e,4)}function Vo(t,e){var n=t.getDay();return Na((t=n>=4||0===n?pa(t):pa.ceil(t)).getFullYear()%1e4,e,4)}function To(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Na(e/60|0,"0",2)+Na(e%60,"0",2)}function Ro(t,e){return Na(t.getUTCDate(),e,2)}function zo(t,e){return Na(t.getUTCHours(),e,2)}function Eo(t,e){return Na(t.getUTCHours()%12||12,e,2)}function jo(t,e){return Na(1+la.count(Da(t),t),e,3)}function Fo(t,e){return Na(t.getUTCMilliseconds(),e,3)}function Po(t,e){return Fo(t,e)+"000"}function Lo(t,e){return Na(t.getUTCMonth()+1,e,2)}function Io(t,e){return Na(t.getUTCMinutes(),e,2)}function Oo(t,e){return Na(t.getUTCSeconds(),e,2)}function No(t){var e=t.getUTCDay();return 0===e?7:e}function Bo(t,e){return Na(ma.count(Da(t)-1,t),e,2)}function Ko(t){var e=t.getUTCDay();return e>=4||0===e?Sa(t):Sa.ceil(t)}function Uo(t,e){return t=Ko(t),Na(Sa.count(Da(t),t)+(4===Da(t).getUTCDay()),e,2)}function Yo(t){return t.getUTCDay()}function Ho(t,e){return Na(wa.count(Da(t)-1,t),e,2)}function qo(t,e){return Na(t.getUTCFullYear()%100,e,2)}function $o(t,e){return Na((t=Ko(t)).getUTCFullYear()%100,e,2)}function Xo(t,e){return Na(t.getUTCFullYear()%1e4,e,4)}function Wo(t,e){var n=t.getUTCDay();return Na((t=n>=4||0===n?Sa(t):Sa.ceil(t)).getUTCFullYear()%1e4,e,4)}function Zo(){return"+0000"}function Go(){return"%"}function Qo(t){return+t}function Jo(t){return Math.floor(+t/1e3)}function tl(t){return new Date(t)}function el(t){return t instanceof Date?+t:+new Date(+t)}function nl(t,e,n,r,i,a,o,l,s,u){var c=Fi(),d=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),m=u("%b %d"),w=u("%B"),x=u("%Y");function b(t){return(s(t)<t?f:l(t)<t?p:o(t)<t?g:a(t)<t?v:r(t)<t?i(t)<t?y:m:n(t)<t?w:x)(t)}return c.invert=function(t){return new Date(d(t))},c.domain=function(t){return arguments.length?h(Array.from(t,el)):h().map(tl)},c.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?b:u(e)},c.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(function(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}(n,t)):c},c.copy=function(){return Ei(c,nl(t,e,n,r,i,a,o,l,s,u))},c}function rl(){return xi.apply(nl(Va,Ta,Ca,ka,ca,oa,ia,na,ea,Fa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function il(){var t=Li(function(){var t,e,n,r,i,a=0,o=1,l=Vi,s=!1;function u(e){return null==e||isNaN(e=+e)?i:l(0===n?.5:(e=(r(e)-t)*n,s?Math.max(0,Math.min(1,e)):e))}function c(t){return function(e){var n,r;return arguments.length?([n,r]=e,l=t(n,r),u):[l(0),l(1)]}}return u.domain=function(i){return arguments.length?([a,o]=i,t=r(a=+a),e=r(o=+o),n=t===e?0:1/(e-t),u):[a,o]},u.clamp=function(t){return arguments.length?(s=!!t,u):s},u.interpolator=function(t){return arguments.length?(l=t,u):l},u.range=c(Yn),u.rangeRound=c(Hn),u.unknown=function(t){return arguments.length?(i=t,u):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),u}}()(Vi));return t.copy=function(){return e=t,il().domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown());var e},bi.apply(t,arguments)}!function(t){ja=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,s=t.shortMonths,u=Ka(i),c=Ua(i),d=Ka(a),h=Ua(a),f=Ka(o),p=Ua(o),g=Ka(l),v=Ua(l),y=Ka(s),m=Ua(s),w={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:co,e:co,f:vo,g:Co,G:Vo,H:ho,I:fo,j:po,L:go,m:yo,M:mo,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Qo,s:Jo,S:wo,u:xo,U:bo,V:Ao,w:_o,W:ko,x:null,X:null,y:Mo,Y:Do,Z:To,"%":Go},x={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Ro,e:Ro,f:Po,g:$o,G:Wo,H:zo,I:Eo,j:jo,L:Fo,m:Lo,M:Io,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Qo,s:Jo,S:Oo,u:No,U:Bo,V:Uo,w:Yo,W:Ho,x:null,X:null,y:qo,Y:Xo,Z:Zo,"%":Go},b={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return _(t,e,n,r)},d:to,e:to,f:oo,g:Za,G:Wa,H:no,I:no,j:eo,L:ao,m:Ja,M:ro,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:Qa,Q:so,s:uo,S:io,u:Ha,U:qa,V:$a,w:Ya,W:Xa,x:function(t,e,r){return _(t,n,e,r)},X:function(t,e,n){return _(t,r,e,n)},y:Za,Y:Wa,Z:Ga,"%":lo};function S(t,e){return function(n){var r,i,a,o=[],l=-1,s=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++l<u;)37===t.charCodeAt(l)&&(o.push(t.slice(s,l)),null!=(i=Pa[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),s=l+1);return o.push(t.slice(s,l)),o.join("")}}function A(t,e){return function(n){var r,i,a=Ea(1900,void 0,1);if(_(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=za(Ea(a.y,0,1))).getUTCDay(),r=i>4||0===i?wa.ceil(r):wa(r),r=la.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Ra(Ea(a.y,0,1))).getDay(),r=i>4||0===i?da.ceil(r):da(r),r=oa.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?za(Ea(a.y,0,1)).getUTCDay():Ra(Ea(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,za(a)):Ra(a)}}function _(t,e,n,r){for(var i,a,o=0,l=e.length,s=n.length;o<l;){if(r>=s)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=b[i in Pa?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return w.x=S(n,w),w.X=S(r,w),w.c=S(e,w),x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),{format:function(t){var e=S(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=A(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=A(t+="",!0);return e.toString=function(){return t},e}}}(t),Fa=ja.format,ja.parse,ja.utcFormat,ja.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var al=t=>()=>t;function ol(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ll(t,e,n){this.k=t,this.x=e,this.y=n}ll.prototype={constructor:ll,scale:function(t){return 1===t?this:new ll(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ll(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sl=new ll(1,0,0);function ul(t){t.stopImmediatePropagation()}function cl(t){t.preventDefault(),t.stopImmediatePropagation()}function dl(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function hl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function fl(){return this.__zoom||sl}function pl(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function gl(){return navigator.maxTouchPoints||"ontouchstart"in this}function vl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function yl(){var t,e,n,r=dl,i=hl,a=vl,o=pl,l=gl,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=nr,h=wt("start","zoom","end"),f=500,p=150,g=0,v=10;function y(t){t.property("__zoom",fl).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",M).filter(l).on("touchstart.zoom",C).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new ll(e,t.x,t.y)}function w(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new ll(t.k,r,i)}function x(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n,r){t.on("start.zoom",(function(){S(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,a=arguments,o=S(t,a).event(r),l=i.apply(t,a),s=null==n?x(l):"function"==typeof n?n.apply(t,a):n,u=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,a):e,f=d(c.invert(s).concat(u/c.k),h.invert(s).concat(u/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=u/e[2];t=new ll(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function S(t,e,n){return!n&&t.__zooming||new A(t,e)}function A(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function _(t,...e){if(r.apply(this,arguments)){var n=S(this,e).event(t),i=this.__zoom,l=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,o.apply(this,arguments)))),c=Pe(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===l)return;n.mouse=[c,i.invert(c)],Er(this),n.start()}cl(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),p),n.zoom("mouse",a(w(m(i,l),n.mouse[0],n.mouse[1]),n.extent,u))}}function k(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,o=S(this,e,!0).event(t),l=Fe(t.view).on("mousemove.zoom",(function(t){if(cl(t),!o.moved){var e=t.clientX-c,n=t.clientY-d;o.moved=e*e+n*n>g}o.event(t).zoom("mouse",a(w(o.that.__zoom,o.mouse[0]=Pe(t,i),o.mouse[1]),o.extent,u))}),!0).on("mouseup.zoom",(function(t){l.on("mousemove.zoom mouseup.zoom",null),Ue(t.view,o.moved),cl(t),o.event(t).end()}),!0),s=Pe(t,i),c=t.clientX,d=t.clientY;Ke(t.view),ul(t),o.mouse=[s,this.__zoom.invert(s)],Er(this),o.start()}}function M(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,o=Pe(t.changedTouches?t.changedTouches[0]:t,this),l=n.invert(o),s=n.k*(t.shiftKey?.5:2),d=a(w(m(n,s),o,l),i.apply(this,e),u);cl(t),c>0?Fe(this).transition().duration(c).call(b,d,o,t):Fe(this).call(y.transform,d,o,t)}}function C(n,...i){if(r.apply(this,arguments)){var a,o,l,s,u=n.touches,c=u.length,d=S(this,i,n.changedTouches.length===c).event(n);for(ul(n),o=0;o<c;++o)s=[s=Pe(l=u[o],this),this.__zoom.invert(s),l.identifier],d.touch0?d.touch1||d.touch0[2]===s[2]||(d.touch1=s,d.taps=0):(d.touch0=s,a=!0,d.taps=1+!!t);t&&(t=clearTimeout(t)),a&&(d.taps<2&&(e=s[0],t=setTimeout((function(){t=null}),f)),Er(this),d.start())}}function D(t,...e){if(this.__zooming){var n,r,i,o,l=S(this,e).event(t),s=t.changedTouches,c=s.length;for(cl(t),n=0;n<c;++n)i=Pe(r=s[n],this),l.touch0&&l.touch0[2]===r.identifier?l.touch0[0]=i:l.touch1&&l.touch1[2]===r.identifier&&(l.touch1[0]=i);if(r=l.that.__zoom,l.touch1){var d=l.touch0[0],h=l.touch0[1],f=l.touch1[0],p=l.touch1[1],g=(g=f[0]-d[0])*g+(g=f[1]-d[1])*g,v=(v=p[0]-h[0])*v+(v=p[1]-h[1])*v;r=m(r,Math.sqrt(g/v)),i=[(d[0]+f[0])/2,(d[1]+f[1])/2],o=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!l.touch0)return;i=l.touch0[0],o=l.touch0[1]}l.zoom("touch",a(w(r,i,o),l.extent,u))}}function V(t,...r){if(this.__zooming){var i,a,o=S(this,r).event(t),l=t.changedTouches,s=l.length;for(ul(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),i=0;i<s;++i)a=l[i],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=Pe(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<v)){var u=Fe(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return y.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",fl),t!==i?b(t,e,n,r):i.interrupt().each((function(){S(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},y.scaleBy=function(t,e,n,r){y.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},y.scaleTo=function(t,e,n,r){y.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,o=null==n?x(t):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(o),s="function"==typeof e?e.apply(this,arguments):e;return a(w(m(r,s),o,l),t,u)}),n,r)},y.translateBy=function(t,e,n,r){y.transform(t,(function(){return a(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,r)},y.translateTo=function(t,e,n,r,o){y.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,l=null==r?x(t):"function"==typeof r?r.apply(this,arguments):r;return a(sl.translate(l[0],l[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,o)},A.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Fe(this.that).datum();h.call(t,this.that,new ol(t,{sourceEvent:this.sourceEvent,target:y,type:t,transform:this.that.__zoom,dispatch:h}),e)}},y.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:al(+t),y):o},y.filter=function(t){return arguments.length?(r="function"==typeof t?t:al(!!t),y):r},y.touchable=function(t){return arguments.length?(l="function"==typeof t?t:al(!!t),y):l},y.extent=function(t){return arguments.length?(i="function"==typeof t?t:al([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],y):[s[0],s[1]]},y.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],y):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},y.constrain=function(t){return arguments.length?(a=t,y):a},y.duration=function(t){return arguments.length?(c=+t,y):c},y.interpolate=function(t){return arguments.length?(d=t,y):d},y.on=function(){var t=h.on.apply(h,arguments);return t===h?y:t},y.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,y):Math.sqrt(g)},y.tapDistance=function(t){return arguments.length?(v=+t,y):v},y}function ml(t,e){var n=[];return t.each((function(t,r,i){var a=e(Fe(i[r])).node();a&&n.push(a)})),Le(n)}function wl(t,e,n){return e.forEach((function(e){return t.classed(e,n)})),t}function xl(t){var e=null==t?void 0:t.node();if(!e)throw new Error(M.elementNotExisting);return e}function bl(t,e){var n=null==t?void 0:t.node();if(n&&n instanceof Element)return getComputedStyle(n).getPropertyValue(e)}function Sl(t,e){void 0===e&&(e=!1);var n=t.map((function(t){return"."+t})).join(""),r=t.map((function(t){return" "+t})).join("");return e||r.trimStart(),{selector:n,classString:r}}function Al(t,e){var n,r,i=null===(n=e.node())||void 0===n?void 0:n.getBoundingClientRect();if(i&&t&&!(window.TouchEvent&&t instanceof TouchEvent&&void 0===(null===(r=t.touches)||void 0===r?void 0:r[0]))){var a=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,o=t instanceof MouseEvent?t.clientY:t.touches[0].clientY,l=O(a-i.left,0,i.width),s=O(o-i.top,0,i.height);return{fromLeftPercent:l/i.width,fromTopPercent:s/i.height}}}function _l(t,e){var n,r=null===(n=e.node())||void 0===n?void 0:n.getBoundingClientRect();if(r)return{dyRelative:t.dy/r.height,dxRelative:t.dx/r.width}}function kl(t){var e,n;return!t.empty()&&!!(null===(n=null===(e=xl(t))||void 0===e?void 0:e.__on)||void 0===n?void 0:n.find((function(t){return"name"in t&&"drag"===t.name})))}function Ml(t){var e,n=[];function r(){t.selectAll(".cursor").classed("cursor-disabled",!1),n.forEach((function(e){return t.classed(e,!1)})),t.classed("cursor",!1),null==e||e.disconnect()}return t.on("pointerdown.fixCursor",(function(r){if(r.target instanceof Element){var i=r.target.closest(".cursor");i&&(a(i),function(r){var i;t.selectAll(".cursor").classed("cursor-disabled",!0),n.forEach((function(e){return t.classed(e,!0)})),t.classed("cursor",!0),e=null===(i=R(r,(function(){n.forEach((function(e){return t.classed(e,!1)})),a(r),n.forEach((function(e){return t.classed(e,!0)}))})))||void 0===i?void 0:i.observer}(i))}function a(t){n.length=0,T.forEach((function(e){t.classList.contains(e)&&n.push(e)}))}})),document.removeEventListener("pointerup",r),document.addEventListener("pointerup",r),t}function Cl(t){t.each((function(){Fe(this).classed("mid-d3-transit",!0)})).on("end",(function(){Fe(this).classed("mid-d3-transit",!1)}))}function Dl(t){t.each((function(){Fe(this).classed("mid-d3-transit",!0)}))}function Vl(t){t.each((function(){Fe(this).classed("mid-d3-transit",!1)}))}function Tl(t,e){void 0===e&&(e=250),t.classed("animated",!0).transition("entering").duration(0).on("end",(function(){Fe(this).classed("entering",!0).interrupt("enter-done").interrupt("entering").transition("enter-done").delay(e-1).on("end",(function(){Fe(this).classed("entering",!1),Fe(this).classed("enter-done",!0)}))}))}function Rl(t,e){return void 0===e&&(e=250),t.classed("exiting",!0).classed("enter-done",!1).transition("exiting").delay(e).on("end.Exit",(function(){Fe(this).classed("exiting")&&Fe(this).classed("exiting",!1).classed("exit-done",!0)}))}function zl(t){return t.each((function(t,e,n){Fe(n[e]).classed("exiting")&&(Fe(n[e]).classed("exiting",!1),Fe(n[e]).classed("enter-done",!0))}))}function El(t,e){return{lastTime:0,func:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(new Date).getTime();i-this.lastTime>=e&&(t.apply(this,n),this.lastTime=i)}}}ll.prototype;var jl=function(){function t(t,e){this.lastTime=0,this.func=t,this.delayMs=e}return t.prototype.invokeScheduled=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(new Date).getTime(),i=r-this.lastTime;i<this.delayMs?this.timeout=setTimeout((function(){return t.invokeScheduled.apply(t,o([],a(e),!1))}),i):(clearTimeout(this.timeout),this.func.apply(this,e),this.lastTime=r)},t}();function Fl(t){return function(e){return 0===e?"0":t(e)}}function Pl(t,e){var n,r,i=null===(n=t.node())||void 0===n?void 0:n.getBBox(),a=null===(r=e.node())||void 0===r?void 0:r.getBBox();return i&&a?{leftCornersXDiff:a.x-i.x,horizontalDiff:a.x-i.x+i.width,leftCornersYDiff:a.y-i.y,verticalDiff:a.y-i.y+i.height,bbox1:i,bbox2:a}:{leftCornersXDiff:0,horizontalDiff:0,leftCornersYDiff:0,verticalDiff:0,bbox1:new DOMRect(0,0,0,0),bbox2:new DOMRect(0,0,0,0)}}function Ll(t,e){void 0===e&&(e=0);var n=Math.pow(10,e);return{x:Math.round(t.x*n)/n,y:Math.round(t.y*n)/n}}function Il(t,e,n){return void 0===n&&(n=.001),Math.abs(t.x-e.x)<n&&Math.abs(t.y-e.y)<n}function Ol(t,e){return void 0===e&&(e=1),t=Ll(t,e),"".concat(t.x,", ").concat(t.y)}function Nl(t){var e=t.split(",").map((function(t){return parseFloat(t.trim())}));return{x:e[0],y:e[1]}}function Bl(t,e){e=Ll(e),t.attr("x",e.x),t.attr("y",e.y)}function Kl(t){var e=t.selection();return{x:parseFloat(e.attr("x")||"0"),y:parseFloat(e.attr("y")||"0")}}function Ul(t,e){t.attr("transform","translate(".concat(Ol(Ll(e)),")"))}function Yl(t,e){var n=t.node();if(n){var r=n.getBBox().width;t.attr("x",(function(){return-r/2+e.width/2})).attr("y",(function(){return e.height/2})).call((function(t){return Ul(t,e)}))}}function Hl(t){t.each((function(t,e,n){var r=Fe(n[e]),i=r.node(),a=r.attr("bounds"),o=a?ms(a):void 0,l=i?getComputedStyle(i).getPropertyValue("--text-wrap"):"false";i&&o&&"true"===l&&function(t,e){t.each((function(){var t=.5,n=1.1,r=Fe(this),i=r.text().split(/\s+/).reverse(),a=i.pop();if(a){for(var o=[],l=r.text("").append("tspan").attr("x",0).attr("y",0).attr("dy",t+"em");a;)o.push(a),l.text(o.join(" ")),l.node().getComputedTextLength()<=e?a=i.pop():(o.length<2?a=i.pop():(a=o.pop(),l.text(o.join(" "))),o=[],l=r.append("tspan").attr("x",0).attr("dy",n+"em"));var s=getComputedStyle(r.node()).textAlign;s&&"center"===s&&r.selectAll("tspan").each((function(){var t=e-this.getComputedTextLength();Fe(this).attr("x",t/2)}))}}))}(Fe(n[e]),o.width)}))}function ql(t,e){void 0===e&&(e=0);var n=Math.pow(10,e);return{width:Math.round(t.width*n)/n,height:Math.round(t.height*n)/n}}function $l(t,e,n){return void 0===n&&(n=.001),Math.abs(t.width-e.width)<n&&Math.abs(t.height-e.height)<n}function Xl(t,e){return void 0===e&&(e=1),t=ql(t,e),"".concat(t.width,", ").concat(t.height)}function Wl(t){var e=t.split(",").map((function(t){return parseFloat(t.trim())}));return{width:e[0],height:e[1]}}function Zl(t,e){e=ql(e),t.attr("width",e.width),t.attr("height",e.height)}function Gl(t){var e=t.selection();return{width:parseFloat(e.attr("width")||"0"),height:parseFloat(e.attr("height")||"0")}}function Ql(t,e){var n=document.createElement("style-dummy-tag");t.parentElement.appendChild(n);var r=window.getComputedStyle(n),i=window.getComputedStyle(t),a={};return e.forEach((function(t){var e=r.getPropertyValue(t),n=i.getPropertyValue(t);"overflow"!==t&&e===n||(a[t]=n)})),n.remove(),a}function Jl(t){return t instanceof Element||t instanceof HTMLElement||t instanceof SVGElement}var ts,es=["fill","alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode","transform"],ns=["transform-box","transform-origin"];function rs(t,e){return void 0===e&&(e=0),r(r({},Ll(t,e)),ql(t,e))}function is(t,e,n){return void 0===n&&(n=.001),Il(t,e,n)&&$l(t,e,n)}function as(t){return r(r({},ss(t)),{width:0,height:0})}function os(t,e){return{x:t.x+e/2,y:t.y+e/2,width:Math.max(0,t.width-e),height:Math.max(0,t.height-e)}}function ls(t,e){return{x:t.x+t.width*e.x,y:t.y+t.height*e.y}}function ss(t){return ls(t,{x:.5,y:.5})}function us(t){return ls(t,{x:.5,y:0})}function cs(t){return ls(t,{x:.5,y:1})}function ds(t){return ls(t,{x:0,y:.5})}function hs(t){return ls(t,{x:1,y:.5})}function fs(t){return ls(t,{x:0,y:1})}function ps(t){return ls(t,{x:1,y:1})}function gs(t){return ls(t,{x:1,y:0})}function vs(t){return ls(t,{x:0,y:0})}function ys(t,e){return void 0===e&&(e=0),"".concat(Ol(t,e),", ").concat(Xl(t,e))}function ms(t){var e=t.split(",").map((function(t){return parseFloat(t.trim())}));return{x:e[0],y:e[1],width:e[2],height:e[3]}}function ws(t,e){t.call((function(t){var n=Ll(e),r=n.x,i=n.y,a=ql(e),o=a.width,l=a.height;t.attr("viewbox","".concat(r,", ").concat(i,", ").concat(o,", ").concat(l))}))}function xs(t,e){t.call((function(t){return Bl(t,e)})).call((function(t){return Zl(t,e)}))}function bs(t){return r(r({},Kl(t)),Gl(t))}function Ss(t){return r({x:0,y:0},t)}function As(t,e){var n=e.x,r=e.y,i=e.width,a=e.height;(t=Jl(t)?Fe(t):t).attr("d","M ".concat(n," ").concat(r," h ").concat(i," v ").concat(a," h ").concat(-i," v ").concat(-a))}function _s(t,e){void 0===e&&(e=0);var n=Math.pow(10,e);return{center:Ll(t.center,e),radius:Math.round(t.radius*n)/n}}function ks(t,e,n){return void 0===n&&(n=.001),Il(t.center,e.center,n)&&Math.abs(t.radius-e.radius)<n}function Ms(t,e){return void 0===e&&(e=1),t=_s(t,e),"".concat(t.center.x,", ").concat(t.center.y,", ").concat(t.radius)}function Cs(t){var e=t.split(",").map((function(t){return parseFloat(t.trim())}));return{center:{x:e[0],y:e[1]},radius:e[2]}}function Ds(t,e){var n;t.attr("cx",e.center.x),t.attr("cy",e.center.y),t.attr("r",e.radius),t.attr("fill",null!==(n=e.color)&&void 0!==n?n:null)}function Vs(t){t.attr("cx",(function(t){return t.center.x})),t.attr("cy",(function(t){return t.center.y})),t.attr("r",(function(t){return t.radius})),t.attr("fill",(function(t){var e;return null!==(e=t.color)&&void 0!==e?e:null}))}function Ts(t){var e=t.selection();return{center:{x:parseFloat(e.attr("cx")||"0"),y:parseFloat(e.attr("cy")||"0")},radius:parseFloat(e.attr("r")||"0")}}function Rs(t){return{center:t.center,radius:0}}function zs(t,e){return{center:t.center,radius:t.radius-e/2}}function Es(t,e,n){void 0===n&&(n=1);var r=e*Math.PI/180;return{x:t.center.x+t.radius*Math.cos(r)*n,y:t.center.y+t.radius*Math.sin(r)*n}}function js(t){return{center:ss(t),radius:Math.min(t.width,t.height)/2}}function Fs(t){return{center:ss(t),radius:Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2}}function Ps(t,e){var n=e.center,r=n.x,i=n.y,a=e.radius;(t=Jl(t)?Fe(t):t).attr("d","M ".concat(r-a," ").concat(i," \n    a ").concat(a,",").concat(a," 0 1,0 ").concat(2*a,",0 \n    a ").concat(a,",").concat(a," 0 1,0 -").concat(2*a,",0"))}function Ls(t){return{center:ss(t),rx:t.width/2,ry:t.height/2}}function Is(t,e){var n;t.attr("cx",e.center.x),t.attr("cy",e.center.y),t.attr("rx",e.rx),t.attr("ry",e.ry),t.attr("fill",null!==(n=e.color)&&void 0!==n?n:null)}function Os(t,e){e.length<2||(t=Jl(t)?Fe(t):t).attr("d","M".concat(e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join("L")))}function Ns(t){return(t%=360)<0?t+360:t}function Bs(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n)||Object.create(null))}))}))}function Ks(){return window.crypto&&window.crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2,12).padStart(12,"0")}function Us(t){console.assert(t.isConnected,"Element needs to be attached to the DOM.");var e=t.getBoundingClientRect(),n=t.parentElement.getBoundingClientRect();return rs({x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height},2)}function Ys(t){var e=t.closest("svg");if(console.assert(t.isConnected&&e,"Element needs to be attached to the DOM and must have SVG Ancestor."),!e||!("getBBox"in t))return rs(t.getBoundingClientRect(),2);var n=t.getBoundingClientRect(),r=t.getBBox();return rs({x:n.x-r.x,y:n.y-r.y,width:r.width,height:r.height},2)}!function(t){t.equalizeLengths=function(t,e){if(!Array.isArray(t)||!Array.isArray(e))throw new Error("Wrong usage of array util!");var n=t.length<e.length?t.length:e.length;return[t.slice(0,n),e.slice(0,n)]},t.sum=function(t){return t.reduce((function(t,e){return t+e}),0)},t.mapToRanks=function(t){for(var e=t.map((function(){return 1})),n=0;n<t.length;n++)for(var r=n+1;r<t.length;r++)t[n]>t[r]?e[n]=e[n]+1:t[n]<t[r]&&(e[r]=e[r]+1);return e},t.clearDuplicatedValues=function(t){return t.reduce((function(t,e){return t.includes(e)?t:o(o([],a(t),!1),[e],!1)}),[])},t.isNumberArray=function(t){return t.length>0&&t.every((function(t){return"number"==typeof t}))},t.isDateArray=function(t){return t.length>0&&t.every((function(t){return t instanceof Date}))},t.hasValueOf=function(t){return t.length>0&&t.every((function(t){return"number"==typeof t.valueOf}))},t.isStringArray=function(t){return t.length>0&&t.every((function(t){return"string"==typeof t}))}}(ts||(ts={}));var Hs=function(){function t(t){var e;this.values=t?t.values:[],this.unit=t?t.unit:"rem",this.dimension=null!==(e=null==t?void 0:t.dimension)&&void 0!==e?e:"width"}return t.prototype.getLengthAt=function(t,e,n){return t<0?e:t>=this.values.length?n:"".concat(this.values[t]).concat(this.unit)},t.prototype.getSurroundingLengths=function(t){return[this.getLengthAt(t-1,"0".concat(this.unit),x),this.getLengthAt(t,"0".concat(this.unit),x)]},t.prototype.getCurrentLayoutWidthIndex=function(t){var e=t.getBoundingClientRect()[this.dimension];if(0===this.values.length)return 0;for(var n=0;n<this.values.length;n++){if(e<L(this.values[n].toString()+this.unit.toString(),t))return n}return this.values.length},t.prototype.getCurrentLayoutWidthIndexFromCSS=function(t){var e=parseInt(getComputedStyle(t).getPropertyValue("--layout-".concat(this.dimension)));return isNaN(e)?0:e},t.prototype.getCSSFactors=function(t){return{factor:parseFloat(getComputedStyle(t).getPropertyValue("--layout-".concat(this.dimension,"-factor"))),offset:parseFloat(getComputedStyle(t).getPropertyValue("--layout-".concat(this.dimension,"-factor-offset")))}},t.prototype.getTransformed=function(e){var n=this.getCSSFactors(e),r=n.factor,i=n.offset;return new t({dimension:this.dimension,unit:this.unit,values:this.values.map((function(t){return t*(isNaN(r)?1:r)+(isNaN(i)?0:i)}))})},t.prototype.updateLayoutCSSVars=function(t){var e=this.getTransformed(t),n=e.getCurrentLayoutWidthIndex(t),r=a(e.getSurroundingLengths(n),2),i=r[0],o=r[1];t.style.setProperty("--layout-".concat(this.dimension),n.toString()),t.style.setProperty("--layout-".concat(this.dimension,"-pre-breakpoint"),i),t.style.setProperty("--layout-".concat(this.dimension,"-post-breakpoint"),o)},t}(),qs=function(){function t(t){this.width=new Hs(null==t?void 0:t.width),this.height=new Hs((null==t?void 0:t.height)?r(r({},t.height),{dimension:"height"}):{values:[],unit:"rem",dimension:"height"})}return t.prototype.updateCSSVars=function(t){this.width.updateLayoutCSSVars(t),this.height.updateLayoutCSSVars(t)},t}();function $s(t,e){var n=parseInt(getComputedStyle(t).getPropertyValue("--layout-".concat(e)));return isNaN(n)?0:n}var Xs=function(){function t(t,e){this.dependentOn=t,this.scope=e}return t.prototype.getLayoutSelection=function(t){var e=this.scope?t[this.scope]:void 0;return e||t[S]},t.prototype.getBreakpoints=function(t){return this.getLayoutSelection(t).datum().breakpoints[this.dependentOn]},t.prototype.getFirstValidPreLayoutIndex=function(t){for(var e=t-1;e>=0;e--)if(void 0!==this.mapping[e])return e;return null},t.prototype.getFirstValidPostLayoutIndex=function(t){for(var e=Object.keys(this.mapping),n=0;n<e.length;n++){var r=parseInt(e[n]);if(r>t)return r}return null},t.prototype.getFirstValidLayoutIndex=function(){for(var t=Object.keys(this.mapping),e=0;e<t.length;e++){var n=parseInt(t[e]);if(!isNaN(n))return n}return 0},t.prototype.getLastValidLayoutIndex=function(t){var e=Object.keys(this.mapping).map((function(t){return parseInt(t)})).filter((function(e){return!isNaN(e)&&e<t}));return Math.max.apply(Math,o([],a(e),!1))},t.prototype.getCurrentLayoutIndexFromCSS=function(t){var e=xl(this.getLayoutSelection(t));return this.getBreakpoints(t).getCurrentLayoutWidthIndexFromCSS(e)},t}();function Ws(t){return"object"==typeof t&&null!==t&&"mapping"in t&&"dependentOn"in t&&!("value"in t)}function Zs(t){return Ws(t)?new Gs(t):t}var Gs=function(t){function e(e){var n=t.call(this,e.dependentOn,e.scope)||this;return n.mapping=e.mapping,n}return n(e,t),e.prototype.estimate=function(t){for(var e=void 0,n=0;n<30&&(void 0!==this.mapping[n]&&(e=this.mapping[n]),!(void 0!==e&&n>=t));n++);if(void 0===e)throw new Error(M.responsiveValueHasNoValues);return e},e}(Xs);function Qs(t,e){if(!Ws(t))return t;var n=t.getCurrentLayoutIndexFromCSS(e);return t.estimate(n)}function Js(t){return"object"==typeof t&&null!==t&&"breakpointValues"in t&&"dependentOn"in t&&!("value"in t)}function tu(t){return Js(t)?new eu(t):t}var eu=function(t){function e(e){var n=t.call(this,e.dependentOn,e.scope)||this;return n.mapping=e.breakpointValues,n}return n(e,t),e.prototype.getRespValInterpolated=function(t){var e=this.scope?t[this.scope]:void 0,n=e||t[S],r=xl(n),i=this.getBreakpoints(t).getTransformed(r),a=this,o=this.dependentOn,l=$s(xl(n),o),s=this.getFirstValidPreLayoutIndex(l);function u(t){if(null===t||t>=i.values.length||t<0)return null;var e=i.values[i.values.length-1]+i.unit;return{index:t,value:a.mapping[t],length:L(i.getLengthAt(t,"0px",e),r)}}return{preBreakpoint:u(s),postBreakpoint:u(this.getFirstValidPostLayoutIndex(null!==s?s:-1)),firstBreakpoint:u(this.getFirstValidLayoutIndex()),lastBreakpoint:u(this.getLastValidLayoutIndex(i.values.length)),element:r}},e.prototype.estimate=function(t){for(var e=void 0,n=0;n<30&&(void 0!==this.mapping[n]&&(e=this.mapping[n]),!(void 0!==e&&n>=t));n++);if(void 0===e)throw new Error(M.responsiveValueHasNoValues);return e},e}(Xs);function nu(t,e){var n=t.values,r=t.categoriesKey,i=t.title,o=t.format,l=a(ts.equalizeLengths(t.values,null!=e?e:t.values),1)[0],s=ts.clearDuplicatedValues(l).reduce((function(t,e,n){return t[e]={order:n,value:e,formatValue:"function"==typeof o?o(e):o&&o[e]?o[e]:e,styleClass:"categorical-".concat(n),key:"c-".concat(n)},t}),{}),u=Object.values(s).sort((function(t,e){return t.order>e.order?1:-1}));return{title:Zs(i),values:n,categoriesKey:r,categoryMap:s,categoryArray:u}}function ru(t,e){var n=function(t){var e=t.datum(),n=e.renderer;e.breakpoints;var r=i(e,["renderer","breakpoints"]),a=r.series.responsiveState.currentlyFlipped?r.tickOrientationFlipped:r.tickOrientation;if("number"==typeof a)return a;var o=t.select(".domain").datum(t.datum()),l=a.getRespValInterpolated({chart:n.chartS,self:o}),s=l.element,u=l.postBreakpoint,c=l.lastBreakpoint,d=l.firstBreakpoint,h=l.preBreakpoint;if(null===u)return c.value;if(null===h)return d.value;var f=s.getBoundingClientRect()[a.dependentOn],p=u.value-h.value,g=(f-h.length)/(u.length-h.length);return h.value+g*p}(t);e.selectAll(".tick").each((function(e,r,i){!function(t,e,n){var r=xl(n),i=t.select("text").attr("x",null).attr("y",null).attr("dy",null),a=xl(i),o=r.classList.contains("axis-bottom")?"bottom":r.classList.contains("axis-left")?"left":r.classList.contains("axis-top")?"top":"right",l=t.select(".pivot");l.append((function(){return i.node()}));var s=iu(Ns(e))[o],u=s.textAnchor,c=s.dominantBaseline,d=s.transformFixed,h=L("0.5em",a);i.style("text-anchor",u).style("dominant-baseline",c);var f=Ns(e);l.attr("transform","bottom"===o?"translate(0, ".concat(h+d,") rotate(").concat(f,")"):"top"===o?"translate(0, -".concat(h+d,") rotate(").concat(f,")"):"left"===o?"translate(-".concat(h+d,", 0) rotate(").concat(f,")"):"translate(".concat(h+d,", 0) rotate(").concat(f,")"))}(Fe(i[r]),n,t)}))}var iu=function(t){return{bottom:au(t),left:au(Ns(t-90)),right:au(Ns(t+90)),top:ou(t)}},au=function(t){var e=lu(t),n=e.anchorInRotationFirstHalf,r=e.anchorParallelToAxis,i=e.baseLineAround180Degree;return{textAnchor:n?"start":r?"middle":"end",dominantBaseline:e.baseLineAround0Degree?"hanging":i?"auto":"middle",transformFixed:e.moreSpace?6:4}},ou=function(t){var e=lu(t),n=e.anchorInRotationFirstHalf,r=e.anchorParallelToAxis,i=e.baseLineAround180Degree;return{textAnchor:n?"end":r?"middle":"start",dominantBaseline:e.baseLineAround0Degree?"auto":i?"hanging":"middle",transformFixed:e.moreSpace?6:4}},lu=function(t){return{anchorInRotationFirstHalf:t>15&&t<165,anchorParallelToAxis:t>=345||t>=0&&t<=15||t>=165&&t<=195,baseLineAround0Degree:t>=0&&t<=15||t>=345,baseLineAround180Degree:t>=165&&t<=195,moreSpace:t>=345||t>=0&&t<=15||t>=165||t<=195}};function su(e,n,r){var i=e.selectChildren(".".concat(t)).data(null!=n?n:[{}]).join("rect").classed(t,!0).attr("fill","transparent").attr("stroke","transparent").attr("stroke-width",0).attr("data-ignore-layout",!0).attr("x",0).attr("y",0).attr("width",0).attr("height",0),a=(r?r.node():e.node()).getBBox(),o=a.width,l=a.height,s=a.x,u=a.y;return i.attr("x",(function(t){var e;return Math.floor(t.scale?s+o*(1-t.scale)/2:s)+(null!==(e=t.offsetX)&&void 0!==e?e:0)})).attr("y",(function(t){var e;return Math.floor(t.scale?u+l*(1-t.scale)/2:u)+(null!==(e=t.offsetY)&&void 0!==e?e:0)})).attr("width",(function(t){return Math.floor(t.scale?o*t.scale:o)})).attr("height",(function(t){return Math.floor(t.scale?l*t.scale:l)}))}function uu(e,n){return e.selectChildren(".".concat(t)).data([n]).join("rect").classed(t,!0).attr("fill","transparent").attr("stroke","transparent").attr("stroke-width",0).attr("data-ignore-layout",!0).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("width",(function(t){return t.width})).attr("height",(function(t){return t.height}))}function cu(t,e){void 0===e&&(e="horizontal"),function(t){var e=t.selectAll(".tick > line");["x1","x2","y1","y2"].forEach((function(t){return e.attr(t,null)}))}(t);var n=t.datum(),r=n.horizontalLayout,i=n.verticalLayout,a="horizontal"===e?r:i,o={left:yt,right:gt,bottom:vt,top:pt};return t.classed("axis axis-".concat(a),!0),g.filter((function(t){return t!==a})).forEach((function(e){return t.classed("axis-".concat(e),!1)})),function(t,e){var n=t.datum(),r=xl(t),i=n.renderer.chartS,a=t.selectAll(".title-wrapper").data([null]).join("g").classed("title-wrapper",!0);a.selectAll(".title").data([null]).join("g").classed("title",!0).selectAll("text").data([null]).join("text").text(Qs(n.title,{chart:i,self:t})),a.selectAll(".subtitle").data(n.subTitle?[null]:[]).join("g").classed("subtitle",!0).selectAll("text").data([null]).join("text").text(Qs(n.subTitle,{chart:i,self:t}));var o=function(t){return t.selectAll(".ticks-transform").data([null]).join("g").classed("ticks-transform",!0).selectAll(".ticks").data([null]).join("g").classed("ticks",!0).attr("data-ignore-layout-children",!0)}(t);e(o),function(t){t.attr("fill",null).attr("font-family",null).attr("font-size",null).attr("text-anchor",null).selectAll(".tick").attr("opacity",null).attr("data-key",(function(t){return t})).selectAll(".pivot").data([null]).join("g").classed("pivot",!0)}(o),n.breakpoints.updateCSSVars(r),ru(t,o)}(t,function(t,e){var n=e.datum(),r=n.scaledValues,i=n.breakpoints,a=n.configureAxis,o=n.renderer,l=xl(e);i.updateCSSVars(l);var s=Qs(a,{chart:o.chartS,self:e}),u=r.cloneFiltered(),c=t(u.scale);return s(c),e.datum().d3Axis=c,c}(o[a],t))}function du(t,e){return su(t),cu(t,e),t.classed("axis-sequence",!0),t.selectAll(".title-wrapper").classed("layout-container",!0),t.attr("data-key",(function(t){return t.key}))}function hu(t){return r(r({},function(t){var e,n;return{renderer:t.renderer,scaledValues:t.scaledValues,title:Zs(t.title||""),subTitle:Zs(t.subTitle||""),configureAxis:Zs(t.configureAxis||function(){}),breakpoints:new qs(t.breakpoints),horizontalLayout:t.horizontalLayout&&f.includes(t.horizontalLayout)?t.horizontalLayout:"bottom",verticalLayout:t.verticalLayout&&p.includes(t.verticalLayout)?t.verticalLayout:"left",tickOrientation:tu(null!==(e=t.tickOrientation)&&void 0!==e?e:0),tickOrientationFlipped:tu(null!==(n=t.tickOrientationFlipped)&&void 0!==n?n:0)}}(t)),{series:t.series})}function fu(t){return"domain"in t&&"range"in t}function pu(t){return fu(t)&&"number"==typeof t.domain()[0]}function gu(t){return fu(t)&&"string"==typeof t.domain()[0]}function vu(t){return fu(t)&&t.domain()[0]instanceof Date}var yu=function(){function t(t){this.orientation="horizontal",this.horizontalRange=[0,1],this.verticalRange=[1,0],this.parentKey=t.parentKey,this.inverted=!1}return t.prototype.updateRange=function(t,e,n){this.verticalRange=e,this.horizontalRange=t,this.orientation=n,this.scale.range("horizontal"===this.orientation?t:e)},t.prototype.getScaledValue=function(t){return this.scale(this.values[t])},t.prototype.getScaledValueStart=function(t){return this.scale(this.values[t])},t.prototype.getScaledValueEnd=function(t){return this.scale(this.values[t])},t.prototype.getRangeByPercent=function(t,e,n){void 0===e&&(e=!0);var r=null!=n?n:this.orientation;return e?mu[r](t,this):wu[r](t,this)},t.prototype.getRangeInverseUndone=function(){return this.inverted?this.getCurrentRangeInversed():this.scale.range()},t.prototype.getCurrentRangeMax=function(){var t=this.getRangeInverseUndone();return"horizontal"===this.orientation?t[1]:t[0]},t.prototype.getCurrentRangeInversed=function(){var t=this.scale.range();return[t[1],t[0]]},t.prototype.isKeyActiveByKey=function(t){return!0},t.prototype.setKeyActiveIfDefined=function(t,e){},t.prototype.cloneFiltered=function(){return this.clone()},t.prototype.cloneZoomed=function(t,e){return this.clone()},t.prototype.cloneRangeInversed=function(){var t=this.clone();return t.scale.range(this.getCurrentRangeInversed()),t.inverted=!this.inverted,t},t}(),mu={horizontal:function(t,e){return e.scale.range()[1]*t},vertical:function(t,e){return e.scale.range()[0]-e.scale.range()[0]*t}},wu={horizontal:function(t,e){return e.getRangeInverseUndone()[1]*t},vertical:function(t,e){return e.getRangeInverseUndone()[0]-e.getRangeInverseUndone()[0]*t}},xu=function(t){function e(e){var n,r=t.call(this,e)||this;return r.tag="categorical",r.values=e.values,r.scale=null!==(n=e.scale)&&void 0!==n?n:_i([0,600]).domain(r.values).padding(.1),r.flippedScale=r.scale.copy(),r.title="tag"in e?e.title:Zs(e.title),r.categories="categories"in e?e.categories:nu({values:r.values,title:e.title,categoriesKey:e.parentKey},r.values),r.keysActive="keysActive"in e?e.keysActive:r.categories.categoryArray.reduce((function(t,n){return t["".concat(e.parentKey,"-").concat(n.key)]=!0,t}),{}),"tag"in e&&(r.inverted=e.inverted),r}return n(e,t),e.prototype.getOrder=function(t){return this.categories.categoryMap[this.values[t]].order},e.prototype.getStyleClass=function(t){return this.categories.categoryMap[this.values[t]].styleClass},e.prototype.getScaledValueStart=function(t){return bu[this.orientation].start(t,this)},e.prototype.getScaledValue=function(t){return bu[this.orientation].middle(t,this)},e.prototype.getScaledValueEnd=function(t){return bu[this.orientation].end(t,this)},e.prototype.isKeyActiveByKey=function(t){return!1!==this.keysActive[t]},e.prototype.isValueActive=function(t){return this.isKeyActiveByKey(this.getCombinedKey(t))},e.prototype.setKeyActiveIfDefined=function(t,e){void 0!==this.keysActive[t]&&(this.keysActive[t]=e)},e.prototype.getCombinedKey=function(t){var e=this.values[t];return this.parentKey+"-"+this.categories.categoryMap[e].key},e.prototype.getCategoryData=function(t){var e=this.values[t],n=this.categories.categoryMap[e],r=n.key,i=this.parentKey;return{categoryKey:r,parentKey:i,combinedKey:i+"-"+r,styleClass:n.styleClass}},e.prototype.cloneZoomed=function(t,e){return this.clone()},e.prototype.cloneFiltered=function(){var t=this,e=this.values.reduce((function(e,n){var r="".concat(t.parentKey,"-").concat(t.categories.categoryMap[n].key);return t.keysActive[r]?o(o([],a(e),!1),[n],!1):e}),[]),n=this.clone();return n.scale.domain(e),n},e.prototype.atScreenPosition=function(t){var e,n=this.cloneFiltered();return null!==(e=n.scale.domain().find((function(e){var r=n.scale(e),i=r+n.scale.bandwidth();return t>r&&t<i})))&&void 0!==e?e:""},e.prototype.getNearestValue=function(t){return t},e.prototype.clone=function(){return new e(r(r({},this),{scale:this.scale.copy()}))},e}(yu),bu={horizontal:{start:function(t,e){return e.scale(e.values[t])},middle:function(t,e){return e.scale(e.values[t])+e.scale.bandwidth()/2},end:function(t,e){return e.scale(e.values[t])+e.scale.bandwidth()}},vertical:{start:function(t,e){return e.scale(e.values[t])-e.scale.bandwidth()},middle:function(t,e){return e.scale(e.values[t])-e.scale.bandwidth()/2},end:function(t,e){return e.scale(e.values[t])}}},Su=function(t){function e(e){var n,r=t.call(this,e)||this;r.tag="date",r.values=e.values;var i=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(r.values),a=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(r.values);if(!i||!a)throw new Error(M.invalidScaledValuesCombination);return r.scale=null!==(n=e.scale)&&void 0!==n?n:rl([i,a],[0,600]).nice(),r.flippedScale=r.scale.copy(),"tag"in e?(r.filteredRanges=e.filteredRanges,r.inverted=e.inverted):r.filteredRanges=[r.scale.domain()],r}return n(e,t),e.prototype.isValueActive=function(t){for(var e=0;e<this.filteredRanges.length;e++){var n=this.filteredRanges[e];if(this.values[t]>=n[0]&&this.values[t]<=n[1])return!0}return!1},e.prototype.cloneZoomed=function(t,n){var i="x"===n?t.rescaleX(this.scale):t.rescaleY(this.scale);return new e(r(r({},this),{scale:i}))},e.prototype.cloneFiltered=function(){return this.clone()},e.prototype.atScreenPosition=function(t){return this.scale.invert(t)},e.prototype.getNearestValue=function(t){for(var e=this.values[0],n=1;n<this.values.length;n++){var r=this.values[n];Math.abs(r.valueOf()-t.valueOf())<Math.abs(e.valueOf()-t.valueOf())&&(e=r)}return e},e.prototype.clone=function(){return new e(r(r({},this),{scale:this.scale.copy()}))},e}(yu),Au=function(t){function e(e){var n,r=t.call(this,e)||this;r.tag="linear",r.values=e.values;var i=[Math.min.apply(Math,o([],a(r.values),!1)),Math.max.apply(Math,o([],a(r.values),!1))];return r.scale=null!==(n=e.scale)&&void 0!==n?n:Ii().domain(i).nice(),r.flippedScale=r.scale.copy(),"tag"in e?(r.filteredRanges=e.filteredRanges,r.inverted=e.inverted):r.filteredRanges=[r.scale.domain()],r}return n(e,t),e.prototype.isValueActive=function(t){for(var e=0;e<this.filteredRanges.length;e++){var n=this.filteredRanges[e];if(this.values[t]>=n[0]&&this.values[t]<=n[1])return!0}return!1},e.prototype.cloneZoomed=function(t,n){var i="x"===n?t.rescaleX(this.scale):t.rescaleY(this.scale);return new e(r(r({},this),{scale:i}))},e.prototype.cloneFiltered=function(){return this.clone()},e.prototype.atScreenPosition=function(t){return this.scale.invert(t)},e.prototype.getNearestValue=function(t){for(var e=this.values[0],n=1;n<this.values.length;n++){var r=this.values[n];Math.abs(r-t)<Math.abs(e-t)&&(e=r)}return e},e.prototype.clone=function(){return new e(r(r({},this),{scale:this.scale.copy()}))},e}(yu),_u=ts.equalizeLengths,ku=ts.hasValueOf,Mu=ts.isDateArray,Cu=ts.isNumberArray,Du=ts.isStringArray;function Vu(t,e){var n=t.values,r=t.scale;if(n.length<=0)throw new Error(M.responsiveValueHasNoValues);if(Mu(n)){if(r&&!vu(r))throw new Error(M.invalidScaledValuesCombination);return new Su({values:n,scale:r,parentKey:e})}if(Cu(n)||ku(n)){if(r&&!pu(r))throw new Error(M.invalidScaledValuesCombination);var i=Cu(n)?n.map((function(t){return Number(t)})):n.map((function(t){return parseFloat(t.valueOf())}));return new Au({values:i,scale:r,parentKey:e})}if(Du(n)){if(r&&!gu(r))throw new Error(M.invalidScaledValuesCombination);return new xu({values:n,scale:r,parentKey:e,title:"Axis "+e})}throw new Error(M.invalidScaledValuesCombination)}function Tu(t,e){var n=a(_u(t.values,e.values),2),i=n[0],o=n[1];return[r(r({},t),{values:i}),r(r({},e),{values:o})]}function Ru(t,e){var n={linear:[],categorical:[],date:[]};return t.forEach((function(t,r){n[t.tag].push({values:t,wrapper:e[r]})})),n}var zu=function(){function t(t,e,n,r){this.numericalValues=t,this.categoricalValues=e,this.additionalCategories=n,this.aggregatedScale=r}return t.prototype.sumCached=function(){var t=this;if(this.aggregationResult)return this.aggregationResult;var e=this.categoricalValues.categories.categoryArray.length,n=new Array(e).fill(null).map((function(){return[]})),r=new Array(e).fill(0),i=this.categoricalValues.values.length,l=new Array(i).fill(0);this.categoricalValues.values.forEach((function(e,i){var a=t.categoricalValues.getOrder(i),o=t.numericalValues.values[i];n[a].push(o),t.additionalCategories&&!t.additionalCategories.isValueActive(i)||(l[i]=r[a],r[a]+=t.numericalValues.values[i])}),[]);var s=n.map((function(t){return ts.sum(t)}));console.assert(s.length===this.categoricalValues.categories.categoryArray.length);var u=[this.numericalValues.scale.domain()[0],Math.max.apply(Math,o([],a(s),!1))];return this.aggregationResult=new Au({values:l,scale:this.aggregatedScale?this.aggregatedScale:Ii().domain(u).nice(),parentKey:this.numericalValues.parentKey}),this.aggregationResult},t}();function Eu(t){var e=t.axis,n=t.renderer,i=t.values,a=t.scale,o=t.series,l=Vu({values:i},"ac-0");return{values:i,scale:a,axis:hu(r(r({},e),{scaledValues:l,renderer:n,series:o}))}}function ju(t){return r(r({},t),{currentIn:t.in,currentOut:t.out,currentTransform:sl,behaviour:yl()})}var Fu="#".concat("tooltip-rv"),Pu=["none","sticky"],Lu=function(){function t(t){var e,n,r,i,a;this.active=!0,this.seriesTooltipVisible=!1,this.movableCrossTooltipVisible=!1,this.positionStrategySeries=null!==(e=null==t?void 0:t.positionStrategySeries)&&void 0!==e?e:"sticky",this.positionStrategyInspect=null!==(n=null==t?void 0:t.positionStrategyInspect)&&void 0!==n?n:"sticky",this.autoOffset=null!==(r=null==t?void 0:t.autoOffset)&&void 0!==r?r:8,this.active=null===(i=null==t?void 0:t.active)||void 0===i||i,this.onInspectMove=null!==(a=null==t?void 0:t.onInspectMove)&&void 0!==a?a:function(){}}return t.prototype.isVisible=function(){return this.seriesTooltipVisible||this.movableCrossTooltipVisible},t.prototype.applyPositionStrategy=function(t,e){var n=Fe(Fu),r={x:t.clientX,y:t.clientY};if("sticky"===e)Ou(n,{position:r,offset:this.autoOffset});Pu.forEach((function(t){n.classed("tooltip-position-".concat(t),!1)})),n.classed("tooltip-position-".concat(e),!0)},t}();function Iu(t){Fe(Fu).classed("tooltip--visible","visible"===t).classed("tooltip--hidden","hidden"===t)}function Ou(t,e){var n=e.offset||8,r=e.position,i=window.innerWidth,a=window.innerHeight,o=r.x<=i/2?1:-1,l=r.y<=a/2?1:-1,s=o>=0,u=l>=0,c=r.x+o*n,d=i-c,h=r.y+l*n,f=a-h;t.style("--place-left",s?" ":"initial").style("--place-right",s?"initial":" ").style("--place-top",u?" ":"initial").style("--place-bottom",u?"initial":" ").style("--left-offset",c+"px").style("--right-offset",d+"px").style("--top-offset",h+"px").style("--bottom-offset",f+"px")}function Nu(t){var e=t.datum().renderer.windowS.datum().tooltip,n=Fe(Fu).selectAll(".item.tooltip--series").data(e.active?[null]:[]).join("div").classed("item tooltip--series",!0);return t.on("pointermove.tooltip",(function(t){var n=e.positionStrategySeries;e.applyPositionStrategy(t,n)})).on("pointerover.tooltip",(function(t,n){var r=t.target;if(n.renderData.markerTooltipGenerator&&r){var i=Fe(r).datum();e.seriesTooltipVisible=!0,Fe(Fu).html(n.renderData.markerTooltipGenerator(r,i))}})).on("pointerout.tooltip",(function(){e.seriesTooltipVisible=!1,Fe(Fu).html(null)})),n}function Bu(){var t=Fe("html > body"),e=t.selectAll(".window-rv"),n=e.selectAll(".draw-area"),r=t.selectAll(Fu).data([null]).join("div").attr("id","tooltip-rv");return n.on("pointermove.tooltipVisibility",(function(){Iu(e.data().find((function(t){return t.tooltip.isVisible()}))?"visible":"hidden")})).on("pointerout.tooltipVisibility",(function(){Iu("hidden")})),Fe(window).on("pointermove.tooltipVisibility",(function(t){var n=e.data().find((function(e){var n=xl(e.renderer.drawAreaBgS).getBoundingClientRect();return!(t.clientX<n.x||t.clientX>n.x+n.width||t.clientY<n.y||t.clientY>n.y+n.height)}));n&&(n.tooltip.movableCrossTooltipVisible=n.settings.get("movableCrossActive")),Iu((null==n?void 0:n.tooltip.isVisible())?"visible":"hidden")})),r}function Ku(t){var e=t.renderer,n=Fe(Fu),r=e.windowS.datum().tooltip,i=function(t){var r=n.selectAll(".item.tooltip--cross").data(t?[null]:[]).join("div").classed("item tooltip--cross",!0),i=r.selectAll("output").data(t?[null,null]:[]).join("output");return e.drawAreaS.classed("cursor-cross",t),{toolTipCrossStateS:r,crossStateTextS:i}};e.windowS.on("pointermove.LeaveMovableCrossTooltip",(function(n){var a=e.windowS.datum().settings.get("movableCrossActive")&&r.movableCrossTooltipVisible&&!r.seriesTooltipVisible,o=xl(e.drawAreaBgS).getBoundingClientRect();n.clientX<o.x||n.clientX>o.x+o.width||n.clientY<o.y||n.clientY>o.y+o.height?function(t){r.movableCrossTooltipVisible=!1,i(t)}(a):function(n,a){var o=e.windowS.datum();r.movableCrossTooltipVisible=o.settings.get("movableCrossActive");var l=i(a).crossStateTextS;if(a){var s=o.tooltip.positionStrategyInspect;o.tooltip.applyPositionStrategy(n,s);var u=xl(e.drawAreaBgS).getBoundingClientRect(),c=n.clientX-u.left,d=n.clientY-u.top,h=t.getScaledValuesAtScreenPosition(c,d),f=h.horizontal,p=h.horizontalName,g=h.vertical,v=h.verticalName,y=l.filter((function(t,e){return 0===e})),m=l.filter((function(t,e){return 1===e}));y.size()>0&&y.text(f?"".concat(p,": ").concat(f):y.text()),m.size()>0&&m.text(g?"".concat(v,": ").concat(g):m.text()),r.onInspectMove(h)}}(n,a)}))}function Uu(t){var e=t.datum();return t.classed("window-rv",!0).classed("window-rv-".concat(e.type),!0),e.breakpoints.updateCSSVars(xl(t)),e.tooltip.active&&Bu(),t}var Yu={downloadStyleType:"inline",downloadRemoveClasses:!0,downloadRemoveDataKeys:!0,downloadRemoveDataStyles:!0,downloadRemoveBgElements:!0,downloadPrettifyActive:!0,downloadPrettifyIndentionSpaces:"2",downloadMarginLeft:"0",downloadMarginBottom:"0",downloadMarginRight:"0",downloadMarginTop:"0",movableCrossActive:!1,downloadAttributeMaxDecimals:"1",downloadAttributeMaxDecimalsActive:!0,parcoordEquidistantAxes:!0},Hu=y(Yu),qu=function(){function t(t){this.state=t,this.snapshot={}}return t.prototype.setImmediately=function(t,e){this.state[t]=e},t.prototype.setDeferred=function(t,e){this.snapshot[t]=e},t.prototype.get=function(t){return this.state[t]},t.prototype.update=function(){var t;for(var e in this.snapshot)this.state[e]=null!==(t=this.snapshot[e])&&void 0!==t?t:this.state[e];this.reset()},t.prototype.reset=function(){this.snapshot={}},t}();function $u(t){return r(r({},t),{breakpoints:new qs(t.breakpoints),settings:new qu(r({},Yu)),tooltip:new Lu(t.tooltip)})}function Xu(t,e){var n=new ResizeObserver((function(t){for(var n=0;n<t.length;n++){if((e||Fe(t[n].target)).dispatch("resize",{detail:{bounds:t[n].target.getBoundingClientRect(),type:"resize"}}),e)return}}));return t.each((function(t,e,r){n.observe(r[e])})),n}function Wu(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var l=Sl(n),s=l.classString,c=l.selector,d=t.selectAll("svg.chart".concat(c,".layout-container")).data([e]).join("svg").classed("chart ".concat(s," layout-container"),!0).attr("xmlns","http://www.w3.org/2000/svg");d.datum().breakpoints.updateCSSVars(xl(d));var h=function(t){return t.selectAll(".padding-wrapper").data([t.datum()]).join("g").classed("padding-wrapper",!0)}(d),f=function(t){var e=t.selectAll(".draw-area").data([t.datum()]).join("g").classed("draw-area",!0).attr("data-ignore-layout-children",!0),n=ms(e.attr("bounds")||"0, 0, 0, 0"),i=uu(e,r(r({},n),{x:0,y:0})).classed("background",!0),o=e.selectAll(".grid-area").data([null]).join("g").classed("grid-area",!0),l=["left","top","right","bottom"],s=l.map((function(e){return function(t,e){return t.selectAll(".padding-container--".concat(e)).data([null]).join("g").classed("padding-container--".concat(e),!0)}(t,e)})),c=a(s,4),d=c[0],h=c[1],f=c[2],p=c[3],g=a(s.map((function(t,e){var n=xl(t),r=l[e],i=getComputedStyle(n).getPropertyValue("--chart-padding-".concat(r));return u(i)?L(i,n):0})),4),v=g[0],y=g[1],m=g[2],w=g[3],x=e.selectAll(".draw-area__clip").data([null]).join("clipPath").classed("draw-area__clip",!0);x.attr("id")||x.attr("id",Ks());var b={x:-v,y:-y,width:n.width+v+m,height:n.height+y+w};return uu(x,b),e.attr("clip-path","url(#".concat(x.attr("id"),")")),{drawArea:e,background:i,gridArea:o,drawAreaClipPath:x,paddingContainerBottomS:d,paddingContainerTopS:h,paddingContainerRightS:f,paddingContainerLeftS:p}}(h),p=f.drawArea,g=i(f,["drawArea"]),v=function(t){return t.selectAll(".header").data((function(t){return[t]})).join("g").classed("header",!0)}(d),y=function(t,e){return t.selectAll(".title").data((function(t){return[Qs(t.title,{chart:e})]})).join("g").classed("title",!0).selectAll("text").data((function(t){return[t]})).join("text").text((function(t){return t})).call((function(t){return Hl(t)}))}(v,d),m=function(t,e){return t.selectAll(".subtitle").data((function(t){return[Qs(t.subTitle,{chart:e})]})).join("g").classed("subtitle",!0).selectAll("text").data((function(t){return[t]})).join("text").text((function(t){return t}))}(v,d);return r({chartS:d,paddingWrapperS:h,header:v,title:y,subTitle:m,drawArea:p},g)}function Zu(t){t.each((function(t,e,n){var r=function(t){return"true"===t.trim()},i=window.getComputedStyle(n[e]),a=r(i.getPropertyValue("--fit-width")),o=r(i.getPropertyValue("--fit-height"));if(a||o){var l=t.element.getBoundingClientRect();a&&n[e].style.setProperty("width","".concat(l.width,"px")),o&&n[e].style.setProperty("height","".concat(l.height,"px"))}for(var s=0,u=V.length;s<u;s++){var c=t.element.style.getPropertyValue(V[s]);void 0!==c&&n[e].style.setProperty(V[s],c)}}))}function Gu(t){t.each((function(t,e,n){Fe(n[e]).attr("class",t.element.getAttribute("class")).each((function(e,n,r){return Fe(r[n]).classed(t.element.tagName,!0)})).classed("layout",!0)}))}function Qu(t){t.each((function(t,e,n){var r=n[e],i=t.element,a=function(t){return Array.from(t).filter((function(t){return t.name.startsWith("data-")})).reduce((function(t,e){var n;return Object.assign(t,((n={})["".concat(e.name)]=e.value,n))}),{})},o=a(r.attributes),l=a(i.attributes);Object.keys(o).filter((function(t){return void 0!==l[t]})).forEach((function(t){return r.removeAttribute(t)})),Object.keys(l).forEach((function(t){return r.setAttribute(t,l[t])}))}))}function Ju(t){var e=t.selectChildren(".layout").data((function(t){return tc(t)})).join((function(t){var e=t.append("div");return e.each((function(t,e,n){t.element.classList.contains("layout-container")&&Fe(n[e]).classed("layout layout-container-positioner",!0).style("position","fixed")})),e})).each((function(t,e,n){Fe(n[e]).classed("layout layout-container-positioner")&&Fe(n[e]).selectChildren(".layout.layout-container").data([t]).join("div").classed("layout layout-container",!0)})),n=e.filter(":not(.layout-container-positioner)"),r=e.filter(".layout-container-positioner").selectChildren("*");return Le(o(o([],a(n.nodes()),!1),a(r.nodes()),!1))}function tc(t){var e=!1,n=Fe(t.element).filter((function(t,n,r){e=!!Fe(r[n]).attr("data-ignore-layout-children");var i=Fe(r[n]).selectAll(".layout-container").empty();return!(e&&i)})),r=[];return n.selectChildren(":not(.layout)").each((function(n,i,a){var o=Fe(a[i]).classed("layout-container"),l=Fe(a[i]).attr("data-ignore-layout"),s=Fe(a[i]).selectAll(".layout-container").empty(),u=e&&!o,c=l&&!o,d=t.ignoredByAncestor&&!o,h=u||c||d;h&&s||r.push({element:this,ignoredByAncestor:!(!e&&!l)||t.ignoredByAncestor&&!o,ignoreBounds:h})})),r}function ec(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Sl(e),i=r.classString,a=r.selector;return t.selectAll("".concat(a,".layouter")).data([null]).join("div").classed("".concat(i," layouter"),!0)}function nc(t){var e;if(t.node().isConnected)return rc(Fe(e=t.node()).selectChildren(".layout.layout-container").data([{element:Fe(e).selectChildren("svg").node(),ignoredByAncestor:!1,ignoreBounds:!1}]).join("div"),t)}function rc(t,e){if(!t.node().isConnected)return!1;var n=!1;return t.each((function(){for(var t=Fe(this),i=t;!i.empty();)Gu(i),Zu(i),Qu(i),i=Ju(i);if(e.selectAll(".layout").each((function(){var t=Fe(this);if(!t.datum().ignoreBounds){var e=function(t){var e=!1;return t.each((function(t){var n=t.element,r=Fe(n);if(!this.classList.contains("layout-container-positioner")){var i=ms(r.attr("bounds")||"0, 0, 0, 0"),a=Us(this),o=!is(i,a,1);e=e||o;var l=n.parentElement;if(this.classList.contains("layout-container-positioner")&&l instanceof SVGElement){var s=Ys(l);return Fe(this).style("top",s.y+"px"),Fe(this).style("left",s.x+"px"),e}if(o)switch(r.attr("bounds",ys(a)),n.tagName){case"svg":case"rect":r.call((function(t){return xs(t,a)}));break;case"circle":r.call((function(t){return Ds(t,js(a))}));break;case"ellipse":r.call((function(t){return Is(t,Ls(a))}));break;case"text":Yl(r,a);break;default:r.call((function(t){return Ul(t,a)}))}}})),e}(t);n=n||e}})),n){var a=ms(Fe(t.datum().element).attr("bounds"));t.style("left",a.x).style("top",a.y).attr("x",null).attr("y",null).attr("width",null).attr("height",null).attr("viewBox",ys(r(r({},a),{x:0,y:0}))),n=!0}})),n&&t.dispatch("boundschange"),n}var ic=function(){function t(){this.addedListeners=!1,this.initialRenderHappened=!1,this.filterDispatch=wt("filter"),this.subsequentRenderCount=0,this.unmounted=!1}return Object.defineProperty(t.prototype,"windowS",{get:function(){return this._windowS&&!this._windowS.empty()?this._windowS:this.windowS.selectAll(".window-rv")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layouterS",{get:function(){return this._layouterS&&!this._layouterS.empty()?this._layouterS:this.windowS.selectAll(".layouter")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chartS",{get:function(){return this._chartS&&!this._chartS.empty()?this._chartS:this.layouterS.selectAll("svg.chart")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"legendS",{get:function(){return this._legendS&&!this._legendS.empty()?this._legendS:this.chartS.selectAll(".legend")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingWrapperS",{get:function(){return this._paddingWrapperS&&!this._paddingWrapperS.empty()?this._paddingWrapperS:this.chartS.selectAll(".padding-wrapper")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawAreaS",{get:function(){return this._drawAreaS&&!this._drawAreaS.empty()?this._drawAreaS:this.chartS.selectAll(".draw-area")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawAreaBgS",{get:function(){return this._drawAreaBgS&&!this._drawAreaBgS.empty()?this._drawAreaBgS:this.drawAreaS.selectChildren(".background")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawAreaClipPathS",{get:function(){return this._drawAreaClipPathS&&!this._drawAreaClipPathS.empty()?this._drawAreaClipPathS:this.drawAreaS.selectChildren(".draw-area__clip")},enumerable:!1,configurable:!0}),t.prototype.exitEnterActive=function(){return this.windowS.selectAll(".entering, .exiting").size()>0},t.prototype.buildChart=function(){if(this.render(),nc(this.layouterS),!this.addedListeners){var t=this.layouterS.selectChild("div.chart");t&&(this.resizeObserver=Xu(t,this.windowS)),this.addedListeners=!0,this.render(),nc(this.layouterS)}},t.prototype.addCustomListener=function(t,e){this.windowS.on(t,e)},t.prototype.addFinalListeners=function(){var t=this;this.immediateInteractionThrottle||(this.immediateInteractionThrottle=new jl((function(){t.subsequentRenderCount=0,t.onImmediateInteractionRender()}),30)),this.standardInteractionThrottle||(this.standardInteractionThrottle=new jl((function(){return t.windowS.dispatch("resize",{detail:{type:"standard-interaction"}})}),50)),this.windowS.on("pointermove.final pointerleave.final pointerdown.final pointerup.final",(function(){var e;return null===(e=t.standardInteractionThrottle)||void 0===e?void 0:e.invokeScheduled()})),this.windowS.on("resize.final",(function(e){var n,r;switch(clearTimeout(t.rerenderAfterResizeScheduled),null===(n=e.detail)||void 0===n?void 0:n.type){case"resize":t.subsequentRenderCount=0,t.onResizeRender();break;case"standard-interaction":t.windowS.selectAll(".mid-d3-transit").size()>0||(t.subsequentRenderCount=0,t.onStandardInteractionRender());break;default:null===(r=t.immediateInteractionThrottle)||void 0===r||r.invokeScheduled()}}))},t.prototype.inRenderLoop=function(){return this.subsequentRenderCount>3||(this.subsequentRenderCount++,!1)},t.prototype.onResizeRender=function(){var t=this;this.inRenderLoop()||(this.render(),this.layouterS&&nc(this.layouterS)&&(this.rerenderAfterResizeScheduled=setTimeout((function(){t.onResizeRender()}),20)))},t.prototype.onStandardInteractionRender=function(){this.inRenderLoop()||this.layouterS&&nc(this.layouterS)&&(this.subsequentRenderCount++,this.render())},t.prototype.onImmediateInteractionRender=function(){this.inRenderLoop()||(this.render(),this.layouterS&&nc(this.layouterS)&&(this.subsequentRenderCount++,this.render(),this.onResizeRender()))},t.prototype.render=function(){this.windowS.node().isConnected&&!this.unmounted&&(this.renderChart(),this.renderContent(),this.addFinalListeners(),this.initialRenderHappened=!0)},t.prototype.renderChart=function(){var t=this.windowS.datum();Uu(this.windowS),ec(this.windowS),Wu(this.layouterS,t,"chart-".concat(t.type)),Ml(this.chartS)},t.prototype.unmountChart=function(){this.unmounted=!0,this.windowS.remove()},t}();function ac(t){return{renderer:t.renderer,breakpoints:new qs(t.breakpoints),title:Zs(t.title||""),subTitle:Zs(t.subTitle||"")}}function oc(t){var e=t.datum().renderer.chartS;if(!e)throw new Error(M.elementNotExisting);var n=e.selectAll(".draw-area");return t.on("pointerover.chartpointhighlight pointerout.chartpointhighlight",(function(t){!function(t,e,n){e.each((function(e,r,i){z(i[r].getAttribute("data-key")).reduce((function(t,e,n){return 0===n?t.selectAll('.element[data-key~="'.concat(e,'"]')):t.filter('.element[data-key~="'.concat(e,'"]'))}),t).classed("highlight",n)}))}(n,Fe(t.target.closest(".legend-item")),t.type.endsWith("over"))}))}function lc(t){var e=t.series,n=t.symbols,r=t.reverse,i=e.originalData.categories;if(!i)return[];var a=i.categories.categoryArray.map((function(t,e){return{label:t.formatValue,styleClass:t.styleClass,symbol:Array.isArray(n)?n[e]:n,key:j([i.parentKey,t.key])}}));return r?a.reverse():a}function sc(t){var e=t.selectAll(".legend__categories").data([t.datum()]).join("g").classed("legend__categories",!0);!function(t){var e=t.datum(),n=e.renderer,r=Qs(e.title,{chart:n.chartS});t.selectChildren(".title").data([r]).join("text").classed("title",!0).classed("empty",(function(t){return!t})).text((function(t){return t}))}(e),e.selectAll(".items").data([null]).join("g").classed("items",!0).selectAll(".legend-item").data(lc(t.datum()),(function(t){return t.label})).join((function(t){return t.append("g").classed("legend-item",!0).call((function(t){return t.append("path").classed("symbol",!0)})).call((function(t){return t.append("text").classed("label",!0)}))}),void 0).each((function(t,e,n){var i=Fe(n[e]);i.selectAll(".label").text(t.label),i.selectAll(".symbol").call((function(e){var n=e.attr("bounds");n&&t.symbol(e.node(),r(r({},ms(n)),{x:0,y:0}))})),su(i)})).attr("data-style",(function(t){return t.styleClass})).attr("data-key",(function(t){return t.key})).classed("filter-out",(function(e){var n;return!1===(null===(n=t.datum().series.originalData.categories)||void 0===n?void 0:n.isKeyActiveByKey(e.key))})).on("click.filter",(function(e,n){t.datum().renderer.exitEnterActive()||t.datum().renderer.filterDispatch.call("filter",{dataKey:n.key},this)})).on("pointerover.legend-item pointerout.legend-item",(function(t){var e=t.currentTarget;e&&e.classList.toggle("highlight",t.type.endsWith("over"))}))}function uc(t,e){var n=t.selectAll(".legend").data([e]).join("g").classed("legend",!0).each((function(t,e,n){var r=Fe(n[e]);sc(r),function(t){var e=t.datum(),n=e.series,r=e.renderer,i=n.originalData.color;if(!i)return;var l=r.chartS.selectAll("defs").data([null]).join("defs").selectAll(".color-scale-gradient").data([i]).join("linearGradient").classed("color-scale-gradient",!0);l.attr("id")||l.attr("id","color-scale-gradient-".concat(Ks()));var s=a([Math.min.apply(Math,o([],a(i.scale.domain()),!1)),Math.max.apply(Math,o([],a(i.scale.domain()),!1))],2),u=s[0],c=s[1]-u;l.selectAll("stop").empty()&&l.selectAll("stop").data(et(0,1.05,.05)).join("stop").attr("offset",(function(t){return t})).attr("stop-color",(function(t){var e;return null!==(e=null==i?void 0:i.scale(u+t*c))&&void 0!==e?e:null}));var d=t.selectAll(".legend__color-scale").data([null]).join("g").classed("legend__color-scale",!0);d.selectAll("rect").data([null]).join("rect").style("fill","url(#".concat(l.attr("id"),")"));var h=ms(d.attr("bounds")||"0, 0, 600, 400"),f=h.width;h.height,i.axis.scaledValues.scale.range([0,f]),d.selectAll(".axis").data([i.axis]).join("g").call((function(t){return cu(t,"horizontal")})).classed("axis",!0)}(r)}));return n}function cc(t){var e;return{renderer:t.renderer,series:t.series,title:Zs(t.title||""),reverse:null!==(e=t.reverse)&&void 0!==e&&e,symbols:t.symbols||function(t,e){return As(t,Ss(e))}}}var dc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2" />\n    <path d="M7 11l5 5l5 -5" />\n    <path d="M12 4l0 12" />\n</svg>\n',hc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>\n';function fc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Sl(e),i=r.classString,a=r.selector,o=t.selectAll(a),l=o.empty()?void 0:o.datum().toggleTimeout;return o.data([{triggerEnter:function(){},triggerExit:function(){},onClickOutside:function(){},toggleTimeout:l}]).join("dialog").classed(i,!0)}function pc(t){var e=t.dialogOpenerS,n=t.dialogS,r=t.transitionMS,i=t.type,a=void 0===i?"modeless":i,o=n.node();function l(){clearTimeout(n.datum().toggleTimeout),"modal"===a?o.showModal():o.show(),n.attr("transition","enter"),n.datum().toggleTimeout=setTimeout((function(){n.attr("transition-state","enter-done")}),r)}function s(){clearTimeout(n.datum().toggleTimeout),n.attr("transition","exit"),n.datum().toggleTimeout=setTimeout((function(){n.attr("transition-state","exit-done"),o.close()}),r)}e.on("click.dialog",(function(){var t,e;null===(e=(t=n.datum()).onOpenerClick)||void 0===e||e.call(t),"enter"===o.getAttribute("transition")?s():l()})),n.datum().triggerEnter=function(){return l()},n.datum().triggerExit=function(){return s()},n.datum().onClickOutside=function(t){if(t.target&&t.target instanceof HTMLDialogElement){var e=t.target.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||n.datum().triggerExit()}},n.on("click.Outside",(function(t){n.datum().onClickOutside(t)}))}function gc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.map((function(t){return"."+t})).join(""),i=e.map((function(t){return" "+t})).join("");return t.selectAll(".tool".concat(r)).data([null]).join("div").classed("tool".concat(i),!0)}function vc(t,e){var n=e.windowS.datum().settings.state,r=n.downloadAttributeMaxDecimals,i=n.downloadAttributeMaxDecimalsActive,a=n.downloadRemoveBgElements;i&&function(t,e){void 0===e&&(e=2);t.selectAll("*").each((function(t,n,r){var i=Fe(r[n]);i.each((function(){for(var t=0;t<this.attributes.length;t++){var n=/(\d+\.\d+)|(\.\d+)/g,r=this.attributes[t],a=this.attributes[t].value.replace(n,(function(t){return parseFloat(t).toFixed(e)}));i.attr(r.name,a)}}))}))}(t,parseInt(r)),a&&function(t){t.selectAll(".background, .background-svgonly").filter((function(){return!(this.parentNode instanceof SVGClipPathElement)})).remove()}(t)}function yc(t){for(var e=new Set,n=t.cloneNode(!0),r=0;r<document.styleSheets.length;r++){var i=document.styleSheets[r];i.cssRules&&a(i.cssRules).forEach((function(t){return e.add(t)}))}function a(t){for(var e=new Set,n=0;n<t.length;n++){var r=t[n];switch(!0){case r instanceof CSSMediaRule:if(window.matchMedia(r.media.mediaText).matches)a(r.cssRules).forEach((function(t){return e.add(t)}));break;case r instanceof CSSContainerRule:a(r.cssRules).forEach((function(t){return e.add(t)}));break;case r instanceof CSSStyleRule:case r instanceof CSSPageRule:l(r).forEach((function(t){return e.add(t)}))}}return e}function o(t){return(t.parentRule&&(t instanceof CSSStyleRule||t instanceof CSSPageRule)?o(t.parentRule):"")+" "+t.selectorText}function l(e){var r=o(e).replace("&","");if(n.matches(r)?n:n.querySelector(r))return(new Set).add(e.cssText);var i,l=t.matches(r)?t:t.querySelector(r);if(l){if(e.parentRule instanceof CSSContainerRule&&function(t,e){var n=window.getComputedStyle(e),r={};for(var i in n)r[i]=n[i];var a=document.createElement("style");a.appendChild(document.createTextNode(t.cssText)),document.head.appendChild(a);var o=window.getComputedStyle(e);for(var i in r)if(r[i]!==o[i])return document.head.removeChild(a),!0;return document.head.removeChild(a),!1}(e,l))return new Set;var s=(i=function(t,e){return e.selectorText.split(",").map((function(e){var n=e.trim().split(/\s+/);n[0]="&"===n[0]?n[0].substring(1):n[0];for(var r=0;r<=n.length-1;r++){var i=n.slice(r).join(" ");try{if(t.querySelector(i))return i}catch(t){if(!(t instanceof DOMException))throw t}}return""})).filter((function(t){return""!==t}))}(n,e),i.map((function(t){return".chart "+t})).join(","));return(new Set).add(s.trim()+" {"+e.style.cssText+"}")}return e.cssRules&&e.cssRules.length>0?a(e.cssRules):new Set}return e}function mc(t,e,n){if("embedded"===n.windowS.datum().settings.get("downloadStyleType"))!function(t,e){var n=Array.from(yc(t)),r=function(t){for(var e=window.getComputedStyle(t),n={},r=0;r<e.length;r++){var i=e[r];i.startsWith("--")&&(n[i]=e.getPropertyValue(i).trim())}return n}(t),i=(s=".chart",c=function(t,e){for(var n=Object.entries(t),r=n.map((function(t){return t[0]})),i=n.map((function(t){return t[1]})),a={},o=0;o<r.length;o++)for(var l=0;l<e.length;l++){var s=r[o];if(e[l].includes(s)){a[s]=i[o];break}}return a}(r,o([],a(n),!1)),u=Object.entries(c).reduce((function(t,e){var n=a(e,2),r=n[0],i=n[1];return t+"".concat(r,": ").concat(i,";")}),""),s+" {"+u+"}"),l=document.createElement("style");var s,u;var c;o(o([],a(n),!1),[i],!1).forEach((function(t){var e=t.replace(/&/g,"&amp;");l.appendChild(document.createTextNode(e))})),e.appendChild(l),wc(e,t)}(t,e);else xc(e,t)}function wc(t,e){var n=e.style.cssText;n&&(t.style.cssText=n);for(var r=0;r<e.children.length;++r)wc(t.children[r],e.children[r])}function xc(t,e){var n=Ql(e,es);for(var r in n)t.setAttribute(r,n[r]);!function(t,e){var n=t.getAttribute("transform"),r=Ql(e,ns);if(!("transform-origin"in r)||!("transform-box"in r)||!n)return;var i=/(-?\d*\.?\d+)px (-?\d*\.?\d+)px/.exec(r["transform-origin"]);if(!i)return;var a=e.getBBox(),o=a.x,l=a.y,s=o+parseFloat(i[1]),u=l+parseFloat(i[2]),c=new DOMMatrix(n),d=new DOMMatrix;d.e=s,d.f=u;var h=new DOMMatrix;h.e=-s,h.f=-u;var f=d.multiply(c).multiply(h),p="matrix(".concat(f.a,", ").concat(f.b,", ").concat(f.c,", ").concat(f.d,", ").concat(f.e,", ").concat(f.f,")");t.setAttribute("transform",p)}(t,e);for(var i=0;i<e.children.length;++i){xc(t.children[i],e.children[i])}}function bc(t,e){var n=function(t,e){var n=/(\s)style\s*=\s*"([^"]*)"/g;function r(t){for(var n,r=/([^:]+)\s*:\s*([^;]+);?/g,i="";null!==(n=r.exec(t));)if(!n[0].endsWith("&quot;")&&!n[0].endsWith("&apos;")){var a=n[1].trim(),o=n[2].trim();e.includes(a)||(i+="".concat(a,":").concat(o,";"))}return i}return t.replace(n,(function(t,e,n){var i=r(n);return' style="'.concat(i,'"')}))}(t,V.map((function(t){return t})).filter((function(t){return"--layout-width"!==t&&"--layout-height"!==t})));return e.windowS.datum().settings.get("downloadPrettifyActive")?(n=function(t){return t.replace(/<([^\/\?])/g,"\n$&")}(n),n=function(t){var e=/(<\/(svg|g|defs|symbol|marker|a|switch|mask|clipPath|pattern|filter|textPath|use)>)/g;return t.replace(e,"\n$1")}(n),n=function(t,e){var n=/(<\/?(svg|g|defs|symbol|marker|a|switch|mask|clipPath|pattern|filter|use|rect|circle|ellipse|line|polyline|polygon|path|image|text|textPath|tspan|glyph|missing-glyph|foreignObject).*?>)/g,r=/(<\/?(svg|g|defs|symbol|marker|a|switch|mask|clipPath|pattern|filter|textPath|use).*?>)/g,i=/(<\/?(rect|circle|ellipse|line|polyline|polygon|path|image|text|textPath|tspan|glyph|missing-glyph|foreignObject).*?>)/g,a=0;return t.replace(n,(function(t,n){n.startsWith("</")&&t.match(r)&&a--;var o=e.repeat(a);return!n.startsWith("</")&&t.match(r)&&a++,n.startsWith("</")&&t.match(i)?n:"".concat(o).concat(n)}))}(n," ".repeat(parseInt(e.windowS.datum().settings.get("downloadPrettifyIndentionSpaces")))),n=function(t){var e=/<style[^>]*>([\s\S]*?)<\/style>/g;return t.replace(e,(function(t,e){var n=e,r=(n=(n=n.replace(/{/g,"{\n")).replace(/}/g,"}\n\n")).split(/(?<!&amp);/).map((function(t){return t.trim()})),i=new Array,a=4,o=0;r.forEach((function(t,e){if(t){var n=" ".repeat(a*o);i.push(n+t+(e<r.length-1?";":""))}}));var l=i.join("\n");return"<style>\n".concat(l,"\n</style>")}))}(n),n):n}function Sc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Sl(e),i=r.classString,a=r.selector;return t.selectAll(a).data([null]).join("button").classed(i,!0)}function Ac(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sl(o(["tooltip-simple"],a(n),!1)),l=i.classString,s=i.selector;return t.selectAll(s).data([e]).join("div").classed(l,!0).text(e.text)}function _c(t){t.each((function(t,e,n){var r=t.labelData;Fe(n[e]).selectChildren("label").data(r).join("label").each((function(t,e,n){return kc(Fe(n[e]))}))}))}function kc(t){var e,n,r,i=t.datum();i.render(t),t.on("click.callback",(function(t){var e,n;null===(n=(e=i.data).onClick)||void 0===n||n.call(e,t,i.data.type)})),t.selectAll("input").attr("size",null!==(e=i.data.size)&&void 0!==e?e:null).on("click.callback",(function(t){var e,n;null===(n=(e=i.data).onInputClick)||void 0===n||n.call(e,t,i.data.type)})),wl(t,null!==(n=i.data.activeClasses)&&void 0!==n?n:[],!0),wl(t,null!==(r=i.data.inactiveClasses)&&void 0!==r?r:[],!1)}function Mc(t,e){var n=new DOMParser,r=e.map((function(t){return n.parseFromString(t,"image/svg+xml").documentElement.cloneNode(!0)}));return t.selectAll("svg").data(r).join((function(t){return t.append((function(){return t.datum()}))}),void 0,(function(t){return t.remove()})),t}var Cc=function(){function t(t){this.data=t,this.tag="radio"}return t.prototype.render=function(t){var e=this.data,n=e.value,r=e.name,i=e.defaultVal,a=e.onChange,o=e.label,l=e.type,s=e.info,u=t.selectAll('input[type="radio"]').data([null]).join("input").attr("type","radio").attr("value",n).attr("name",r).on("change",(function(t){return null==a?void 0:a(t,l)}));if(i===n&&u.attr("checked",!0),t.selectAll("span").data([null]).join("span").text(o),s){var c=t.selectAll(".info__button").data([null]).join("button").classed("info__button",!0);Mc(c,['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />\n    <path d="M12 9h.01" />\n    <path d="M11 12h1v4h1" />\n</svg>\n']),Ac(c,{text:s})}return t},t}(),Dc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M15 11l-3 3l-3 -3" />\n    <path d="M12 3a9 9 0 1 0 0 18a9 9 0 0 0 0 -18z" />\n</svg>\n';function Vc(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sl(n),a=i.classString,o=i.selector,l=t.selectAll(o).data(e).join("fieldset").classed(a,!0);return l.each((function(t,e,n){var r=Fe(n[e]);r.selectAll("legend").data([null]).join("legend").call((function(e){return function(t,e){t.selectAll(".active").data(e.filterable?[e.filterable]:[]).join("label").classed("active",!0).each((function(t,e,n){return kc(Fe(n[e]))})),t.selectAll(".text").data([e.legend]).join("span").classed("text",!0).text((function(t){return t})),t.selectAll(".collapse-icon").data(e.collapsable?[Dc]:[]).join("span").classed("collapse-icon",!0).each((function(t,e,n){return Mc(Fe(n[e]),[Dc])}))}(e,t)})),t.collapsable&&Tc(r)})),ml(l,(function(t){var e=t.selectAll(".collapsable");return e.empty()?l:e}))}function Tc(t){return t.each((function(t,e,n){Fe(n[e]).selectAll(".collapsable-wrapper").data([null]).join("div").classed("collapsable-wrapper",!0).selectAll(".collapsable").data([t]).join("div").classed("collapsable",!0)})),t.selectAll("legend").classed("collapsable-opener",!0).each((function(t,e,n){var r=Fe(n[e].parentElement).select(".collapsable-wrapper"),i=r.classed("collapsed"),a=Fe(n[e]);r.classed("expanded",(function(){return!i})),a.selectChildren(".text, .collapse-icon").on("click.toggleCollapsable",(function(){r.classed("expanded",(function(){return!r.classed("expanded")})),r.classed("collapsed",(function(){return!r.classed("collapsed")}))}))})),t}function Rc(t,e){var n=e.windowS.datum().settings.state,i={defaultVal:n.downloadStyleType,type:Hu.downloadStyleType,name:Ks(),onChange:function(t,r){n[r]=t.target.value,e.windowS.dispatch("resize")}};return Vc(t,[{legend:"Style Type",labelData:[new Cc(r(r({},i),{value:"inline",label:"Inline CSS (styles in elements)"})),new Cc(r(r({},i),{value:"embedded",label:"Embedded CSS (styles in style block)",info:"Success of this method is not guaranteed."}))]}],"item","item--radio")}var zc=function(){function t(t){this.data=t,this.tag="checkbox"}return t.prototype.render=function(t){var e=this.data,n=t.selectAll('input[type="checkbox"]').data([e]).join("input").attr("type","checkbox").on("change",(function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t,e.type)}));return void 0!==e.defaultVal&&n.property("checked",e.defaultVal),e.dataKey&&n.attr("data-key",e.dataKey),t.selectAll("span").data([e]).join("span").text((function(t){return t.label})),t},t}();function Ec(t,e){var n=e.windowS.datum().settings.state,r=function(t,r){n[r]=t.target.checked,e.windowS.dispatch("resize")};return Vc(t,[{legend:"Removal of Attributes",labelData:[new zc({label:"Remove Data Key Attributes",type:Hu.downloadRemoveDataKeys,defaultVal:n.downloadRemoveDataKeys,onChange:r}),new zc({label:"Remove Class Attributes",type:Hu.downloadRemoveClasses,defaultVal:n.downloadRemoveClasses,onChange:r,activeClasses:"embedded"===n.downloadStyleType?["disabled"]:[],inactiveClasses:["embedded"!==n.downloadStyleType?"disabled":""]}),new zc({label:"Remove Data Style Attributes",type:Hu.downloadRemoveDataStyles,defaultVal:n.downloadRemoveDataStyles,onChange:r,activeClasses:"embedded"===n.downloadStyleType?["disabled"]:[],inactiveClasses:["embedded"!==n.downloadStyleType?"disabled":""]})]}],"item","item--removal-attributes")}var jc=function(){function t(t){this.data=t}return t.prototype.render=function(t){var e=this,n=this.data,r=n.value,i=n.onChange,a=n.onInput,o=n.label,l=n.min,s=n.max,u=n.step;return t.selectAll('input[type="number"]').data([null]).join("input").attr("type","number").attr("value",r).attr("min",null!=l?l:null).attr("max",null!=s?s:null).attr("step",null!=u?u:null).on("change",(function(t){return null==i?void 0:i(t,e)})).on("input",(function(t){return null==a?void 0:a(t,e)})),t.selectAll("span").data([null]).join("span").text(o),t},t.prototype.valueAsInt=function(t){var e=t.target;return parseInt(e.value)},t.prototype.valueAsFloat=function(t){var e=t.target;return parseFloat(e.value)},t.prototype.inMinMaxRange=function(t){return this.data.min&&t>=this.data.min||this.data.max&&t<=this.data.max},t}();function Fc(t,e){var n=e.windowS.datum().settings.state;return Vc(t,[{legend:"Number of Decimal Points",labelData:[new zc({label:"Limit Decimal Points",type:Hu.downloadAttributeMaxDecimalsActive,defaultVal:n.downloadAttributeMaxDecimalsActive,onChange:function(t,r){n[r]=t.target.checked,e.windowS.dispatch("resize")}}),new jc({label:"",type:Hu.downloadAttributeMaxDecimals,value:n.downloadAttributeMaxDecimals,min:1,max:20,step:1,size:2,onInput:function(t,e){var r=e.valueAsInt(t);isNaN(r)&&(t.target.value=n[e.data.type])},onChange:function(t,e){var r=e.valueAsInt(t);!isNaN(r)&&e.inMinMaxRange(r)||(t.target.value=n[e.data.type]),n[e.data.type]=t.target.value},activeClasses:n.downloadAttributeMaxDecimalsActive?[]:["disabled"],inactiveClasses:n.downloadAttributeMaxDecimalsActive?["disabled"]:[]})]}],"item","item--decimal-options")}function Pc(t,e){var n=gc(t.selectAll(".toolbar__content"),"tool--download"),r=t.selectAll(".toolbar__dialog-container"),i=Sc(n,"toolbar__btn");Mc(i,[dc]),Ac(i,{text:"Download"});var a=fc(r,"dialog--center","dialog--download");pc({dialogOpenerS:i,dialogS:a,transitionMS:300,type:"modal"}),function(t,e){var n=e.windowS.datum().settings,r=[{settingKey:Hu.downloadMarginLeft,abbreviation:"left"},{settingKey:Hu.downloadMarginTop,abbreviation:"top"},{settingKey:Hu.downloadMarginRight,abbreviation:"right"},{settingKey:Hu.downloadMarginBottom,abbreviation:"bottom"}],i=function(t,e){var r=e.valueAsInt(t);isNaN(r)&&(t.target.value=n.state[e.data.type])},a=function(t,e){var r=e.valueAsInt(t);!isNaN(r)&&e.inMinMaxRange(r)||(t.target.value=n.state[e.data.type]),n.state[e.data.type]=t.target.value};return Vc(t,[{legend:"Margin",labelData:r.map((function(t){return new jc({label:"Margin-".concat(t.abbreviation),type:Hu[t.settingKey],value:n.get(t.settingKey),min:0,max:1e4,step:1,size:5,onInput:i,onChange:a})}))}],"item","item--margin-options")}(a,e).call(_c),function(t,e){var n=e.windowS.datum().settings.state;return Vc(t,[{legend:"Prettify SVG",labelData:[new zc({label:"Prettify SVG",type:Hu.downloadPrettifyActive,defaultVal:n.downloadPrettifyActive,onChange:function(t,r){n[r]=t.target.checked,e.windowS.dispatch("resize")}}),new jc({label:"Indentation spaces",type:Hu.downloadPrettifyIndentionSpaces,value:n.downloadPrettifyIndentionSpaces,min:1,max:20,step:1,size:2,onInput:function(t,e){var r=e.valueAsInt(t);isNaN(r)&&(t.target.value=n[e.data.type])},onChange:function(t,e){var r=e.valueAsInt(t);!isNaN(r)&&e.inMinMaxRange(r)||(t.target.value=n[e.data.type]),n[e.data.type]=t.target.value},activeClasses:n.downloadPrettifyActive?[]:["disabled"],inactiveClasses:n.downloadPrettifyActive?["disabled"]:[]})]}],"item","item--prettify-svg")}(a,e).call(_c),Rc(a,e).call(_c),Ec(a,e).call(_c),Fc(a,e).call(_c),function(t,e){var n=t.selectAll(".button--icon.button--download").data([null]).join("button").classed("button--icon button--download",!0).on("click",(function(){var t;Fe(this.closest(".window-rv")).selectAll(".layouter > svg.chart").call((function(t){return function(t,e,n){t.each((function(t,r,i){var a=n.windowS.datum().settings.state,o=a.downloadStyleType,l=a.downloadRemoveClasses,s=a.downloadRemoveDataKeys,u=a.downloadRemoveDataStyles,c=a.downloadMarginLeft,d=a.downloadMarginTop,h=a.downloadMarginRight,f=a.downloadMarginBottom,p=i[r].cloneNode(!0),g=p.getAttribute("width"),v=p.getAttribute("height"),y="".concat(0-parseInt(c)),m="".concat(0-parseInt(d)),w="".concat(parseInt(null!=g?g:"0")+parseInt(c)+parseInt(h)),x="".concat(parseInt(null!=v?v:"0")+parseInt(d)+parseInt(f));p.setAttribute("viewBox","".concat(y,", ").concat(m,", ").concat(w,", ").concat(x)),p.removeAttribute("width"),p.removeAttribute("height"),p.removeAttribute("x"),p.removeAttribute("y"),mc(i[r],p,n),vc(Fe(p),n);var b=document.createElement("div");b.append(p);var S=new RegExp("\\s(layout|bounds|data-ignore-layout|data-ignore-layout-children".concat(("inline"===o&&l?"|class":"")+(s?"|data-key":"")+("inline"===o&&u?"|data-style":""),')=".*?"'),"g"),A=b.innerHTML.replace(S,"");A=bc(A,n);var _=new Blob([A],{type:"image/svg+xml;charset=utf-8"}),k=URL.createObjectURL(_),M=document.createElement("a");e=e instanceof Function?e.call(i[r],t,r,i):e,M.href=k,M.download=e,document.body.appendChild(M),M.click(),document.body.removeChild(M)}))}(t,"chart.svg",e)})),null===(t=Fe(this.closest("dialog")).datum())||void 0===t||t.triggerExit()}));n.selectAll("span").data([null]).join("span").text("Download SVG"),Mc(n,[dc])}(a,e),function(t){var e=t.selectAll(".button--icon.button--cancel").data([null]).join("button").classed("button--icon button--cancel",!0).on("click.cancel",(function(){var t;null===(t=Fe(this.closest("dialog")).datum())||void 0===t||t.triggerExit()}));e.selectAll("span").data([null]).join("span").text("Cancel"),Mc(e,[hc])}(a)}function Lc(t,e){var n=e.windowS.datum().settings.state;return Vc(t,[{legend:"Removal of Elements",labelData:[new zc({label:"Remove Interactive Elements",type:Hu.downloadRemoveBgElements,defaultVal:n.downloadRemoveBgElements,onChange:function(t,r){n[r]=t.target.checked,e.windowS.dispatch("resize")}})]}],"item","item--removal-elements")}var Ic='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z" />\n</svg>\n',Oc=function(){function t(t){this.data=t}return t.prototype.render=function(t){var e=this,n=this.data,r=n.value,i=n.onChange,a=n.onInput,o=n.onDrag,l=n.label,s=n.min,u=n.max,c=n.step;return t.selectAll('input[type="range"]').data([null]).join("input").attr("type","range").attr("min",null!=s?s:null).attr("max",null!=u?u:null).attr("step",null!=c?c:null).attr("value",r).on("change",(function(t){return null==i?void 0:i(t,e)})).on("input",(function(t){return null==a?void 0:a(t,e)})).on("drag",(function(t){return null==o?void 0:o(t,e)})),t.selectAll("span").data([null]).join("span").text(l),t},t}();function Nc(t,e){var n=e.getSeries(),r=e.getAxes(),i=t.selectAll(".toolbar__content"),l=t.selectAll(".toolbar__dialog-container"),s=gc(i,"tool--filter"),u=Sc(s,"toolbar__btn");Mc(u,[Ic]),Ac(u,{text:"Filter"});var c=fc(l,"dialog--side","dialog--filter");pc({dialogOpenerS:u,dialogS:c,transitionMS:300}),n.forEach((function(t){n.length>1&&function(t,e){var n=this,r=e.renderer,i=e.originalData,a=i.key,o=i.keysActive,l=function(t){r.exitEnterActive()&&(t.preventDefault(),t.stopPropagation())},s=[{legend:"Main Series",collapsable:!0,labelData:[new zc({label:"Series",type:"series",dataKey:a,defaultVal:!!o[a],onClick:l,onChange:function(){r.filterDispatch.call("filter",{dataKey:a},n)}})]}];_c(Vc(t,s,"item","item--checkbox-series","filter-series"))}(c,t),function(t,e){var n=this,r=e.renderer,i=e.originalData,a=i.categories;if(!a)return;var o=Qs(a.categories.title,{chart:r.chartS}),l=a.categories.categoryArray,s=function(t){r.exitEnterActive()&&(t.preventDefault(),t.stopPropagation())},u=[{legend:o,collapsable:!0,labelData:l.map((function(t){var e=j([a.parentKey,t.key]);return new zc({label:t.value,type:"category",dataKey:e,defaultVal:a.isKeyActiveByKey(e),onClick:s,onChange:function(){r.exitEnterActive()||r.filterDispatch.call("filter",{dataKey:e},n)}})}))}];_c(Vc(t,u,"item","item--checkbox-series","filter-categories"))}(c,t)}));var d=Ru(r.map((function(t){return t.scaledValues})),r);return o(o([],a(d.linear),!1),a(d.date),!1).forEach((function(t){return function(t,e,n){var r=e.renderer,i=Qs(e.title,{chart:r.chartS}),l=n.scale.domain().map((function(t){return t.valueOf()})),s=a([n.filteredRanges[0][0].valueOf(),n.filteredRanges[0][1].valueOf()],2),u=s[0],c=s[1],d=a([Math.min.apply(Math,o([],a(l),!1)),Math.max.apply(Math,o([],a(l),!1))],2),h=d[0],f=d[1],p=function(t,e){var i=t.target,a=Fe(null==i?void 0:i.closest(".double-range-slider")),o=a.selectAll(".min-range input"),l=a.selectAll(".max-range input"),s=e.data.type,d=s.charAt(s.length-1),h=t.target.value,f=parseFloat(h);if(!isNaN(f)){var p="$range-0-0"===s&&f>=c,g="$range-0-1"===s&&f<=u,v=p?c:g?u:f;"linear"===n.tag?n.filteredRanges[0][d]=v:n.filteredRanges[0][d]=new Date(Math.floor(v)),(p||g)&&(i.value=v.toString()),o.classed("dominant","$range-0-0"===e.data.type),l.classed("dominant","$range-0-1"===e.data.type),r.windowS.dispatch("resize")}},g=[{legend:i,collapsable:!0,filterable:"key"in e?Bc(e):void 0,labelData:n.filteredRanges.map((function(t){var r,i,a=null!==(i=null===(r=e.d3Axis)||void 0===r?void 0:r.tickFormat())&&void 0!==i?i:n.scale.tickFormat();return[new Oc({label:"Min: "+a(t[0],0),type:"$range-0-0",value:n.filteredRanges[0][0].valueOf().toString(),min:h,max:f,step:1,activeClasses:["min-range"],onInput:p}),new Oc({label:"Max: "+a(t[1],0),type:"$range-0-1",value:n.filteredRanges[0][1].valueOf().toString(),min:h,max:f,activeClasses:["max-range"],step:1,onInput:p})]})).flat()}],v=Vc(t,g,"item","item--double-range-filter","filter-axis-".concat(n.parentKey)).selectAll(".double-range-slider").data((function(t){return[t]})).join("div").classed("double-range-slider",!0).style("--range-start",Math.abs(h-u)/Math.abs(f-h)+"").style("--range-end",(c-h)/(f-h)+"");v.selectAll(".double-range-slider__track").data([null]).join("div").classed("double-range-slider__track",!0),v.selectAll(".double-range-slider__range").data([null]).join("div").classed("double-range-slider__range",!0),_c(v),v.selectAll("input").classed("double-range-slider__input",!0)}(c,t.wrapper,t.values)})),d.categorical.forEach((function(t){return function(t,e){var n=this,r=e.renderer,i=e.scaledValues,a=Qs(e.title,{chart:r.chartS}),o=function(t){var e=t.scaledValues;return{keys:e instanceof xu?e.categories.categoryArray.map((function(t){return"".concat(e.parentKey,"-").concat(t.key)})):[],options:e instanceof xu?e.categories.categoryArray:[]}}(e),l=o.keys,s=o.options,u=function(t){r.exitEnterActive()&&(t.preventDefault(),t.stopPropagation())},c=s.map((function(t,i){return new zc({label:t.value,type:"category",dataKey:l[i],defaultVal:e.scaledValues.isKeyActiveByKey(l[i]),onClick:u,onChange:function(){r.exitEnterActive()||r.filterDispatch.call("filter",{dataKey:l[i]},n)}})}));if(0===l.length&&!("key"in e))return;var d=[{legend:Qs("".concat(null!=a?a:i.parentKey.toUpperCase()),{chart:r.chartS}),collapsable:!("key"in e)||l.length>1,filterable:"key"in e?Bc(e):void 0,labelData:c}];_c(Vc(t,d,"item","item--checkbox-series","filter-axis-".concat(i.parentKey)))}(c,t.wrapper)})),s}function Bc(t){var e=this,n=t.keysActive[t.key],r=t.series.renderData.axes.length<=2&&n;return new zc({activeClasses:r?["disabled"]:void 0,inactiveClasses:r?void 0:["disabled"],label:"",type:"category",dataKey:t.key,defaultVal:n,onChange:function(){t.series.renderer.filterDispatch.call("filter",{dataKey:t.key},e)}})}var Kc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M18 9l3 3l-3 3" />\n    <path d="M15 12h6" />\n    <path d="M6 9l-3 3l3 3" />\n    <path d="M3 12h6" />\n    <path d="M9 18l3 3l3 -3" />\n    <path d="M12 15v6" />\n    <path d="M15 6l-3 -3l-3 3" />\n    <path d="M12 3v6" />\n</svg>\n';function Uc(t,e,n){var r,i=e.node();t.on("click.transition",(function(){"enter"===i.getAttribute("transition")?(clearTimeout(r),i.setAttribute("transition","exit"),r=setTimeout((function(){i.setAttribute("transition-state","exit-done")}),n)):(clearTimeout(r),i.setAttribute("transition","enter"),r=setTimeout((function(){i.setAttribute("transition-state","enter-done")}),n))}))}var Yc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" />\n    <path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />\n</svg>\n';function Hc(t,e){var n=t.selectAll(".toolbar").data([null]).join("div").classed("toolbar",!0),r=n.selectAll(".toolbar__bar").data([null]).join("div").classed("toolbar__bar",!0);r.selectAll(".toolbar__content-wrapper").data([null]).join("div").classed("toolbar__content-wrapper",!0).selectAll(".toolbar__content").data([null]).join("div").classed("toolbar__content",!0);var i=r.selectAll(".toolbar__opener").data([null]).join("div").classed("toolbar__opener",!0);Uc(i,n,600),Mc(i,['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"\n     stroke-linejoin="round" width="24" height="24" stroke-width="2">\n    <path d="M7 7l5 5l-5 5"></path>\n    <path d="M13 7l5 5l-5 5"></path>\n</svg>\n']),n.selectAll(".toolbar__dialog-container").data([null]).join("div").classed("toolbar__dialog-container",!0),Nc(n,e),Pc(n,e.renderer),function(t,e){if(!(e.length<=0)){var n=e[0].renderer,r=Sc(gc(t.selectAll(".toolbar__content"),"tool--cross"),"toolbar__btn");Mc(r,[Kc]),Ac(r,{text:"Inspect Chart"}),Uc(r,r,600),r.on("click.settings",(function(){var t=n.windowS.datum().settings.state;t.movableCrossActive=!t.movableCrossActive,n.windowS.dispatch("resize")})),e.forEach((function(t){return Ku(t)}))}}(n,e.getSeries()),function(t,e){if(!(e.filter((function(t){return t.renderTool})).length<=0)){var n=gc(t.selectAll(".toolbar__content"),"tool--chart"),r=t.selectAll(".toolbar__dialog-container"),i=Sc(n,"toolbar__btn");Mc(i,[Yc]),Ac(i,{text:"Chart Settings"});var a=fc(r,"dialog--center","dialog--chart");pc({dialogOpenerS:i,dialogS:a,transitionMS:300,type:"modal"}),a.on("close",(function(t){var n,r,i;t.preventDefault(),null===(n=e[0])||void 0===n||n.renderer.windowS.datum().settings.reset(),null===(r=Fe(this.closest("dialog")).datum())||void 0===r||r.triggerExit(),null===(i=e[0])||void 0===i||i.renderer.windowS.dispatch("resize")})),e.forEach((function(e){var n;null===(n=e.renderTool)||void 0===n||n.call(e,t)}))}}(n,e.getSeries());var a=n.selectAll("dialog");a.each((function(t,e){var n=a.filter((function(t,n){return e!==n}));t.onOpenerClick=function(){n.each((function(t){return t.triggerExit()}))}})),i.on("click.close",(function(){a.each((function(t){return t.triggerExit()}))}))}function qc(t){return t.on("pointerover.seriespointhighlight pointerout.seriespointhighlight",(function(t){var e=t.target,n=Fe(e).attr("data-key"),r=Fe(e.closest(".chart")).selectAll("[data-key='".concat(n,"']")),i=t.type.endsWith("over");r.classed("highlight",i)}))}function $c(t,e){var n=e.elements,r=e.classes,i=e.orientation,a=Sl(r),o=a.selector,l=a.classString,s=n.flatMap((function(t){return t.getLabel(i)}));return t.selectAll(o).data([null]).join("g").classed(l,!0).attr("data-ignore-layout-children",!0).call((function(t){return Xc(t,s)}))}function Xc(t,e){return t.selectAll("text").data(e,(function(t){return t.marker.key.rawKey})).call((function(e){return function(t,e){var n=bl(t,"--transition-time-label-enter-ms"),r=n?parseInt(n):250;e.join((function(e){return e.append("text").classed("label",!0).each((function(t,e,n){return Ul(Fe(n[e]),t)})).call((function(t){return Tl(t,r)})).call((function(e){return t.dispatch("enter",{detail:{selection:e}})}))}),(function(t){return t.call((function(){t.call(zl)}))}),(function(e){return e.call((function(n){return Rl(n,r).on("end",(function(){Fe(this).classed("exit-done")&&e.remove().call((function(e){return t.dispatch("exit",{detail:{selection:e}})}))}))}))})).each((function(t,e,n){return Fe(n[e]).transition("position").duration(250).ease(ni).call((function(e){return Ul(e,t)}))})).text((function(t){return t.text})).attr("data-key",(function(t){return t.marker.key.rawKey})).attr("data-polarity",(function(t){return t.marker.polarity?t.marker.polarity:null})).call((function(e){return t.dispatch("update",{detail:{selection:e}})}))}(t,e)}))}var Wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.addFilterListener=function(){var t=this;t.windowS,this.filterDispatch.on("filter",(function(){var e=this.dataKey,n=t.windowS.datum();n.getAxes().forEach((function(t){"key"in t&&t.setKeyActiveIfDefined(e,!t.isKeyActiveByKey(e)),t.scaledValues.setKeyActiveIfDefined(e,!t.scaledValues.isKeyActiveByKey(e))})),n.getSeries().forEach((function(t){var n=t.originalData,r=n.keysActive,i=n.categories;void 0!==r[e]&&(r[e]=!r[e]),null==i||i.setKeyActiveIfDefined(e,!(null==i?void 0:i.keysActive[e]))})),t.windowS.dispatch("resize")}))},e.prototype.renderSeriesChartComponents=function(){var t=this,e=this.chartS,n=e.datum();n.getSeries().forEach((function(t){return t.responsiveState.update()})),this.addFilterListener(),uc(e,n.legend).call(oc),n.getSeries().forEach((function(e){var n;return null===(n=e.renderLegendInfo)||void 0===n?void 0:n.call(e,t.legendS)})),Hc(this.windowS,e.datum())},e.prototype.addSeriesLabels=function(t){var e=t.selectAll(".element:not(.exiting):not(.exit-done)");$c(this.drawAreaS,{elements:e.data(),classes:["series-label"],orientation:t.datum().responsiveState.currentlyFlipped?"horizontal":"vertical"})},e.prototype.addAllSeriesFeatures=function(t){var e=this;t.call(qc).call(Nu).call((function(t){return e.addSeriesLabels(t)}))},e}(ic);function Zc(t,e){var n=t.key,i={};return i[n]=!0,{categories:t.categories?new xu(r(r({},t.categories),{parentKey:n})):void 0,color:t.color?Eu(r(r({},t.color),{renderer:t.renderer,series:e})):void 0,key:t.key,keysActive:i,getMergedKeys:function(){var t=this;return this.categories?this.categories.categories.categoryArray.map((function(e){return j([t.key,e.key])})):[]},getCombinedKey:function(t){throw new Error("Method not implemented.")}}}var Gc=function(){function t(t){var e,n,r;this._series=t.series,this._flipped=!!t.flipped&&Zs(t.flipped),this._currentlyFlipped=null!==(e=t.currentlyFlipped)&&void 0!==e&&e,this._previouslyFlipped=this._currentlyFlipped,this._drawAreaWidth=null!==(n=t.drawAreaWidth)&&void 0!==n?n:0,this._drawAreaHeight=null!==(r=t.drawAreaHeight)&&void 0!==r?r:0}return Object.defineProperty(t.prototype,"flipped",{get:function(){return this._flipped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentlyFlipped",{get:function(){return this._currentlyFlipped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawAreaWidth",{get:function(){return this._drawAreaWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawAreaHeight",{get:function(){return this._drawAreaHeight},enumerable:!1,configurable:!0}),t.prototype.drawAreaS=function(){return this._series.renderer.windowS.selectAll(".draw-area")},t.prototype.drawAreaRange=function(){return{horizontal:[0,this._drawAreaWidth],horizontalInverted:[this._drawAreaWidth,0],vertical:[this._drawAreaHeight,0],verticalInverted:[0,this._drawAreaHeight]}},t.prototype.update=function(){var t=ms(this.drawAreaS().attr("bounds")||"0, 0, 600, 400"),e=t.width,n=t.height;this._drawAreaWidth=e,this._drawAreaHeight=n,this._previouslyFlipped=this._currentlyFlipped,this._currentlyFlipped=Qs(this._flipped,{chart:this._series.renderer.chartS})},t}(),Qc="empty-series",Jc=function(){function t(t){this.originalData=Zc(t,this),this.renderData=this.originalData,this.renderer=t.renderer,this.responsiveState=new Gc({series:this,flipped:"flipped"in t&&t.flipped})}return t.prototype.cloneToRenderData=function(){return this},t.prototype.applyFilter=function(){return this},t.prototype.applyZoom=function(){return this},t.prototype.applyInversion=function(){return this},t.prototype.getScaledValuesAtScreenPosition=function(){return{horizontal:Qc,horizontalName:Qc,horizontalNearestRealValue:Qc,horizontalScreenValue:Qc,vertical:Qc,verticalName:Qc,verticalNearestRealValue:Qc,verticalScreenValue:Qc}},t}();function td(t){var e,n=r(r({},hu(t)),{inverted:Zs(null!==(e=t.inverted)&&void 0!==e&&e),originalAxis:this,series:t.series,gridLineFactor:"number"==typeof t.gridLineFactor&&t.gridLineFactor>.01?t.gridLineFactor:void 0});return n.originalAxis=n,n}function ed(t){var e=t.renderer,n=t.series,i=t.x,l=t.y;return r({series:n,x:td(r(r({},null!=i?i:{}),{renderer:e,scaledValues:n.originalData.x,series:n})),y:td(r(r({},null!=l?l:{}),{renderer:e,scaledValues:n.originalData.y,series:n})),getAxes:function(){return o([this.x,this.y],a(this.series.originalData.color?[this.series.originalData.color.axis]:[]),!1)},getSeries:function(){return[this.series]},getMainSeries:function(){return this.series},legend:cc(r(r({},t.legend),{renderer:e,series:n}))},ac(t))}function nd(t){var e=t.datum();e.renderer;var n=e.series,o=i(e,["renderer","series"]),l=a(n.responsiveState.currentlyFlipped?["y","x"]:["x","y"],2),s=l[0],u=l[1],c=r(r({},o[u]),{scaledValues:n.renderData[u]}),d=r(r({},o[s]),{scaledValues:n.renderData[s]}),h=t.selectAll(".padding-wrapper"),f="aggScaledValues"in n&&n.aggScaledValues instanceof zu?n.aggScaledValues.sumCached():void 0,p=f&&d.scaledValues instanceof Au?r(r({},d),{scaledValues:f}):d;p.scaledValues.scale.range(d.scaledValues.scale.range());var g=f&&c.scaledValues instanceof Au?r(r({},c),{scaledValues:f}):c;g.scaledValues.scale.range(c.scaledValues.scale.range()),h.selectAll(".axis-".concat(u)).data([g]).join("g").call((function(t){return cu(t,"vertical")})).classed("axis-".concat(u),!0),o[u].d3Axis=c.d3Axis,h.selectAll(".axis-".concat(s)).data([p]).join("g").call((function(t){return cu(t,"horizontal")})).classed("axis-".concat(s),!0),o[s].d3Axis=d.d3Axis}function rd(t){var e=t.datum().series,n=e.renderer.drawAreaS.selectAll(".grid-area"),r=e.renderer.horizontalAxisS,i=e.renderer.verticalAxisS,l=e.renderer.drawAreaBgS.node();if(l){var s=l.getBoundingClientRect();!function(){var t=i.datum().gridLineFactor,e=i.selectAll(".tick line").filter((function(){var t=function(t){var e=getComputedStyle(t),n=!("none"===e.display||"hidden"===e.visibility);return t.checkVisibility()&&n};return t(this)&&!!this.parentElement&&t(this.parentElement)})),l=[];e.each((function(){var t=this.getBoundingClientRect();l.splice(0,0,t.y+t.height/2-s.y)})),Math.min.apply(Math,o([],a(l),!1))>0&&l.splice(0,0,0);Math.max.apply(Math,o([],a(l),!1))<s.height&&l.push(s.height);var u=[];if(void 0!==t){u=id(l,t);var c=Math.max.apply(Math,o([],a(l),!1));(u=u.filter((function(t){return t>=1&&t<=c-1}))).splice(0,0,0)}var d=a(r.datum().scaledValues.scale.range(),2),h=d[0],f=d[1];n.selectAll(".line.line--grid.line--horizontal").data(u).join("path").each((function(t,e,n){return Os(Fe(n[e]),[{x:h,y:t},{x:f,y:t}])})).classed("line line--grid line--horizontal",!0)}(),function(){var t=r.datum().gridLineFactor,e=r.selectAll(".tick line").filter((function(){var t=function(t){var e=getComputedStyle(t),n=!("none"===e.display||"hidden"===e.visibility);return t.checkVisibility()&&n};return t(this)&&!!this.parentElement&&t(this.parentElement)})),l=[0];e.each((function(){var t=this.getBoundingClientRect();l.push(t.x+t.width/2-s.x)})),Math.min.apply(Math,o([],a(l),!1))>0&&l.splice(0,0,0);Math.max.apply(Math,o([],a(l),!1))<s.width&&l.push(s.width);var u=[];if(void 0!==t){u=id(l,t);var c=s.width;(u=u.filter((function(t){return t>=1&&t<=c-1}))).push(c)}var d=a(i.datum().scaledValues.scale.range(),2),h=d[0],f=d[1];n.selectAll(".line.line--grid.line--vertical").data(u).join("path").each((function(t,e,n){return Os(Fe(n[e]),[{x:t,y:h},{x:t,y:f}])})).classed("line line--grid line--vertical",!0)}()}}function id(t,e){var n=[],r=Math.max.apply(Math,o([],a(t),!1));return e<1&&function(){n.push(t[0]);for(var r=0;r<t.length-1;r++){for(var i=n[n.length-1];t[r]<i&&r<t.length;)r++;n.push.apply(n,o([],a(ad(e,t[r],t[r+1])),!1))}n.shift()}(),e>1&&function(){var i=t.slice(0,t.length-1).map((function(e,n){return Math.abs(t[n+1]-e)})),a=i.reduce((function(t,e,n){return i[t]>i[n]?t:n}),0),o=i[a],l=t[a]%o;do{n.push(l),l+=o*e}while(l<r)}(),1===e&&function(){n.push(t[0]);for(var r=0;r<t.length-1;r++){var i=n[n.length-1];n.push(i+Math.abs(t[r+1]-t[r])*e)}n.shift()}(),n}function ad(t,e,n){var r=[],i=Math.abs(e-n),a=e;do{r.push(a),a+=t*i}while(a<n);return r}function od(t){var e=t.datum().series.renderer,n=e.horizontalAxisS,r=e.verticalAxisS,i=e.drawAreaS.selectAll(".grid-area");function o(t){if("linear"!==t.tag)return!1;var e=t.values.find((function(t){return t<0})),n=t.values.find((function(t){return t>0}));return e&&n}if(o(n.datum().scaledValues)){var l=n.datum().scaledValues.scale(0),s=l,u=a(r.datum().scaledValues.scale.range(),2),c=u[0],d=u[1];i.selectAll(".line.line--origin.line--vertical").data([null]).join("path").call((function(t){return Os(t,[{x:l,y:c},{x:s,y:d}])})).classed("line line--origin line--vertical",!0)}else i.selectAll(".line.line--origin.line--vertical").remove();if(o(r.datum().scaledValues)){var h=r.datum().scaledValues.scale(0),f=h,p=a(n.datum().scaledValues.scale.range(),2),g=p[0],v=p[1];i.selectAll(".line.line--origin.line--horizontal").data([null]).join("path").classed("line line--origin line--horizontal",!0).call((function(t){return Os(t,[{x:g,y:h},{x:v,y:f}])}))}else i.selectAll(".line.line--origin.line--horizontal").remove()}var ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"xAxisS",{get:function(){return this.chartS.selectAll(".axis-x")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yAxisS",{get:function(){return this.chartS.selectAll(".axis-y")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"horizontalAxisS",{get:function(){return this.chartS.selectAll(".axis-bottom, .axis-top")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalAxisS",{get:function(){return this.chartS.selectAll(".axis-left, .axis-right")},enumerable:!1,configurable:!0}),e.prototype.getAxisInversionState=function(){return{horizontal:!this.horizontalAxisS.empty()&&Qs(this.horizontalAxisS.datum().inverted,{chart:this.chartS,self:this.horizontalAxisS}),vertical:!this.verticalAxisS.empty()&&Qs(this.verticalAxisS.datum().inverted,{chart:this.chartS,self:this.verticalAxisS}),x:!this.xAxisS.empty()&&Qs(this.xAxisS.datum().inverted,{chart:this.chartS,self:this.xAxisS}),y:!this.yAxisS.empty()&&Qs(this.yAxisS.datum().inverted,{chart:this.chartS,self:this.yAxisS})}},e.prototype.renderCartesianAxis=function(){var t=this.chartS.datum().series.responsiveState.currentlyFlipped;this.chartS.classed("chart-cartesian",!0).attr("data-flipped",t),nd(this.chartS)},e.prototype.renderOriginLine=function(){od(this.chartS)},e.prototype.renderGrid=function(){rd(this.chartS)},e.prototype.renderCartesianComponents=function(){this.renderCartesianAxis(),this.renderOriginLine(),this.renderGrid()},e}(ic),sd=function(){function t(){}return t.prototype.getScaledValuesAtScreenPosition=function(t,e){var n=function(t,e){var n,r,i=t.datum(),a="categorical"!==i.scaledValues.tag?i.scaledValues.scale.tickFormat():function(t){return t},o=null!==(r=null===(n=i.d3Axis)||void 0===n?void 0:n.tickFormat())&&void 0!==r?r:a,l=i.scaledValues.atScreenPosition(e),s=i.scaledValues.getNearestValue(l);return{appliedFormat:o,formattedValue:o(l,0),title:Qs(i.title,{self:t,chart:i.renderer.chartS}),screenValue:l,nearestRealValue:s}},r=n(this.renderer.horizontalAxisS,t),i=n(this.renderer.verticalAxisS,e);return{horizontal:r.formattedValue,horizontalName:r.title,horizontalNearestRealValue:r.nearestRealValue,horizontalScreenValue:r.screenValue,vertical:i.formattedValue,verticalName:i.title,verticalNearestRealValue:i.nearestRealValue,verticalScreenValue:i.screenValue}},t.prototype.applyFilter=function(){var t=this.renderData,e=t.x,n=t.y,i=t.color,a=t.categories;if(this.renderData=r(r({},this.renderData),{x:e.cloneFiltered(),y:n.cloneFiltered()}),i){var o=i.axis.scaledValues.cloneFiltered(),l=r(r({},i.axis),{scaledValues:o});this.renderData.color=r(r({},i),{axis:l})}return a&&(this.renderData.categories=a.cloneFiltered()),this},t.prototype.applyZoom=function(){var t=this.renderData,e=t.zoom,n=t.x,i=t.y;if(!e)return this;var o=a(this.responsiveState.currentlyFlipped?["y","x"]:["x","y"],2),l=o[0],s=o[1];return this.renderData=r(r({},this.renderData),{x:n.cloneZoomed(e.currentTransform,l),y:i.cloneZoomed(e.currentTransform,s)}),this},t}();function ud(t){var e=El((function(e){return function(t,e){var n=t.transform,r=e.originalData.zoom;if(!r)return;r.currentTransform=1===t.transform.k?sl:n;var i=e.responsiveState.drawAreaRange(),a=i.horizontal,o=i.verticalInverted,l=[[a[0],o[0]],[a[1],o[1]]];r.behaviour.extent(l).translateExtent(l).scaleExtent([r.out,r.in])}(e,t)}),50),n=t.renderData.zoom;n&&t.renderer.drawAreaS.call(n.behaviour.on("zoom.zoom",(function(n){e.func(n),t.renderer.windowS.dispatch("resize")})))}var cd=function(t){function e(e){var n=t.call(this,e)||this;return n._inversionState={horizontal:!1,vertical:!1,x:!1,y:!1},n._series=e.series,n}return n(e,t),e.prototype.horizontalVals=function(){return this.currentlyFlipped?this._series.renderData.y:this._series.renderData.x},e.prototype.verticalVals=function(){return this.currentlyFlipped?this._series.renderData.x:this._series.renderData.y},e.prototype.update=function(){t.prototype.update.call(this);var e=this.drawAreaRange(),n=e.horizontal,r=e.vertical;this.updateInversionState(),this._inversionState.horizontal&&n.reverse(),this._inversionState.vertical&&r.reverse();var i=a(this.currentlyFlipped?["vertical","horizontal"]:["horizontal","vertical"],2),o=i[0],l=i[1];this._series.originalData.x.updateRange(n,r,o),this._series.originalData.y.updateRange(n,r,l),ud(this._series)},e.prototype.updateInversionState=function(){var t=this._series.renderer.getAxisInversionState(),e=this._series.renderer.horizontalAxisS,n=this._series.renderer.verticalAxisS;this._series.originalData.x.inverted=t.x,this._series.originalData.y.inverted=t.y,e.empty()||(e.datum().scaledValues.inverted=t.horizontal),n.empty()||(n.datum().scaledValues.inverted=t.vertical),this._inversionState={horizontal:t.horizontal,vertical:t.vertical,x:this.currentlyFlipped?t.vertical:t.horizontal,y:this.currentlyFlipped?t.horizontal:t.vertical}},e}(Gc);function dd(t,e){var n=a(Tu(t.x,t.y),2),i=n[0],o=n[1],l=r(r({},Zc(t,e)),{x:Vu(i,"a-0"),y:Vu(o,"a-1"),zoom:t.zoom?ju(t.zoom):void 0,getCombinedKey:function(t){var e=this.x instanceof xu?this.x.getCategoryData(t).combinedKey:void 0,n=this.y instanceof xu?this.y.getCategoryData(t).combinedKey:void 0,r=this.categories?this.categories.getCategoryData(t).combinedKey:void 0;return E([this.key,r,e,n])}});if(l.categories&&l.categories.values.length!==l.x.values.length)throw new Error(M.categoricalValuesMismatch);if(l.color&&l.color.values.length!==l.x.values.length)throw new Error(M.sequentialColorValuesMismatch);return l}function hd(t){return r(r({},t),{x:t.x.clone(),y:t.y.clone()})}var fd=function(){function t(t){var e;this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.xValue=t.xValue,this.yValue=t.yValue,this.category=t.category,this.categoryFormatted=t.categoryFormatted,this.styleClass=t.styleClass,this.key=t.key,this.labelData=t.label,this.inverted=null!==(e=t.inverted)&&void 0!==e&&e,this.polarity=this.positionOnTop()?"positive":"negative"}return t.prototype.getLabel=function(t){return this.labelData?r(r(r({},this.labelData),"horizontal"===t?this.getLabelPositionHorizontal():this.getLabelPositionVertical()),{marker:this,text:this.labelData.format(this,this.labelData.value)}):[]},t.prototype.getLabelPositionVertical=function(){var t=this.labelData,e=t.offset,n=t.positionStrategy,r=t.offsetX,i=t.offsetY;return{x:r+this.x+this.width/2,y:i+this.y+("center"===n?this.height/2:this.positionOnTop()?-1*e:this.height+e)}},t.prototype.getLabelPositionHorizontal=function(){var t=this.labelData,e=t.offset,n=t.positionStrategy,r=t.offsetX,i=t.offsetY;return{x:r+this.x+("center"===n?this.width/2:this.positionOnTop()?this.width+e:-1*e),y:i+this.y+this.height/2}},t.prototype.positionOnTop=function(){var t,e,n=null!==(e=null===(t=this.labelData)||void 0===t?void 0:t.positionStrategy)&&void 0!==e?e:"dynamic",r=this.yValue>=0;return this.inverted!==r&&"dynamic"===n||!this.inverted&&"positive"===n||this.inverted&&"negative"===n},t}(),pd=function(t){function e(e){var n=t.call(this,e)||this;return n._series=e.series,n}return n(e,t),e.prototype.update=function(){t.prototype.update.call(this)},e.prototype.getBarBaseRect=function(t){return this.currentlyFlipped?this.getBarRectHorizontal(t,this.horizontalVals(),this.verticalVals()):this.getBarRectVertical(t,this.verticalVals(),this.horizontalVals())},e.prototype.getBarRectVertical=function(t,e,n){return{x:gd.barCategoryStart(n,t),y:gd.barLinearStart(e,t),width:gd.barCategoryLength(n,t),height:gd.barLinearLength(e,t)}},e.prototype.getBarRectHorizontal=function(t,e,n){return{x:gd.barLinearStart(e,t),y:gd.barCategoryStart(n,t),width:gd.barLinearLength(e,t),height:gd.barCategoryLength(n,t)}},e}(cd),gd={barCategoryStart:function(t,e){return t.getScaledValueStart(e)},barCategoryLength:function(t,e){return t.scale.bandwidth()},barLinearStart:function(t,e){return Math.min(t.getScaledValueEnd(e),t.scale(0))},barLinearLength:function(t,e){return Math.abs(t.scale(0)-t.getScaledValue(e))}},vd=function(t){function e(e){var n=t.call(this)||this;return n.responsiveState=new pd({series:n,flipped:"flipped"in e&&e.flipped}),n.renderer=e.renderer,n}return n(e,t),e.prototype.getBars=function(){var t,e,n=[],i=this.renderData,a=i.x,o=i.y,l=i.color,s=i.keysActive,u=i.key,c=i.categories,d=i.labels,h=null==l?void 0:l.axis.scaledValues;if(!s[u])return n;for(var f=0;f<o.values.length;++f)if((!c||c.isValueActive(f))&&a.isValueActive(f)&&o.isValueActive(f)&&(null===(t=null==h?void 0:h.isValueActive(f))||void 0===t||t)){var p=null==c?void 0:c.values[f];n.push(new fd(r(r({},this.getRect(f)),{xValue:a.values[f],yValue:o.values[f],styleClass:null!==(e=null==c?void 0:c.getStyleClass(f))&&void 0!==e?e:_,category:p,categoryFormatted:p?null==c?void 0:c.categories.categoryMap[p].formatValue:void 0,label:null==d?void 0:d.at(f),key:new P(this.renderData.getCombinedKey(f)+" i-".concat(f)),inverted:o.inverted})))}return n},e}(sd),yd=function(){function t(t){var e,n,r,i,a;this.values=t.values,this.offset=null!==(e=t.offset)&&void 0!==e?e:0,this.offsetX=null!==(n=t.offsetX)&&void 0!==n?n:this.values.map((function(){return 0})),this.offsetY=null!==(r=t.offsetY)&&void 0!==r?r:this.values.map((function(){return 0})),this.positionStrategy=null!==(i=t.positionStrategy)&&void 0!==i?i:"dynamic",this.format=null!==(a=t.format)&&void 0!==a?a:function(t,e){return e}}return t.prototype.at=function(t){return{value:this.values[t],offset:this.offset,positionStrategy:this.positionStrategy,offsetX:this.offsetX[t],offsetY:this.offsetY[t],format:this.format}},t}();function md(t,e){var n=dd(t,e);if(!(n.x instanceof xu))throw new Error(M.invalidScaledValuesCombination);return r(r({},n),{markerTooltipGenerator:t.markerTooltipGenerator,labels:t.labels?new yd(t.labels):void 0})}var wd=function(t){function e(e){var n=t.call(this,e)||this;n.originalData=function(t,e){var n=r(r({},md(t,e)),{aggregationScale:t.aggregationScale});if(!n.categories)throw new Error(M.missingArgumentForSeries);if(!(n.y instanceof Au))throw new Error(M.missingArgumentForSeries);return n}(e,n),n.renderData=n.originalData,n.type="stacked";var i=n.originalData,a=i.x,o=i.y,l=i.categories,s=i.aggregationScale;return n.aggScaledValues=new zu(o,a,l,s),n}return n(e,t),e.prototype.getBars=function(){var e=this.renderData,n=e.x,r=e.y,i=e.categories,a=e.aggregationScale;return this.aggScaledValues=new zu(r,n,i,a),t.prototype.getBars.call(this)},e.prototype.getRect=function(t){return function(t){var e=t.i,n=t.series,r=n.responsiveState,i=n.aggScaledValues.sumCached(),a=n.renderData.y,o=r.currentlyFlipped,l=r.getBarBaseRect(e),s=a.scale.range();if(i.scale.range(s),!o){var u=[s[1],s[0]];i.scale.range(u)}var c,d,h=i.scale(i.values[e]);return o?(d=n.renderData.y,{x:l.x+h,y:l.y,width:i.scale(d.values[e]),height:l.height}):(c=n.renderData.y,{x:l.x,y:i.scale.range()[1]-h-i.scale(c.values[e]),width:l.width,height:i.scale(c.values[e])})}({series:this,i:t})},e.prototype.cloneToRenderData=function(){return this.renderData=hd(this.originalData),this},e.prototype.applyZoom=function(){return this},e.prototype.applyFilter=function(){return t.prototype.applyFilter.call(this),this},e.prototype.applyInversion=function(){throw new Error("Method not implemented")},e}(vd);var xd=function(t){function e(e){var n=t.call(this,e)||this;return n.type="grouped",n.originalData=function(t,e){var n=md(t,e);if(!n.categories)throw new Error(M.missingArgumentForSeries);return n}(e,n),n.renderData=n.originalData,n}return n(e,t),e.prototype.getRect=function(t){return function(t,e){var n,r=t.renderData.categories,i=t.responsiveState.currentlyFlipped,a=i?t.responsiveState.verticalVals():t.responsiveState.horizontalVals(),o=t.responsiveState.getBarBaseRect(e),l=F(r.keysActive),s=_i().domain(l).range([0,a.scale.bandwidth()]).padding(.1),u=null!==(n=s(r.getCombinedKey(e)))&&void 0!==n?n:0;return{x:i?o.x:o.x+u,y:i?o.y+u:o.y,width:i?o.width:s.bandwidth(),height:i?s.bandwidth():o.height}}(this,t)},e.prototype.cloneToRenderData=function(){return this.renderData=hd(this.originalData),this},e.prototype.applyZoom=function(){return t.prototype.applyZoom.call(this),this},e.prototype.applyFilter=function(){return t.prototype.applyFilter.call(this),this},e.prototype.applyInversion=function(){throw new Error("Method not implemented")},e}(vd),bd=function(t){function e(e){var n,r=t.call(this,e)||this;return r.originalData=md(e,r),r.renderData=r.originalData,r.type=null!==(n=e.type)&&void 0!==n?n:"standard",r}return n(e,t),e.prototype.getRect=function(t){return this.responsiveState.getBarBaseRect(t)},e.prototype.cloneToRenderData=function(){return this.renderData=hd(this.originalData),this},e.prototype.applyZoom=function(){return t.prototype.applyZoom.call(this),this},e.prototype.applyFilter=function(){return t.prototype.applyFilter.call(this),this},e.prototype.applyInversion=function(){throw new Error("Method not implemented.")},e}(vd);function Sd(t,e){e.join((function(e){return e.append("rect").classed("element bar",!0).each((function(t,e,n){return xs(Fe(n[e]),as(t))})).call((function(e){return t.dispatch("enter",{detail:{selection:e}})}))}),void 0,(function(e){return e.classed("exiting",!0).each((function(t,e,n){return Fe(n[e]).transition("minimize").duration(250).call(Cl).call((function(e){return xs(e,as(t))})).remove()})).call((function(e){return t.dispatch("exit",{detail:{selection:e}})}))})).classed("exiting",!1).classed("exit-done",!1).attr("data-style",(function(t){return t.styleClass})).attr("data-key",(function(t){return t.key.rawKey})).each((function(t,e,n){return Fe(n[e]).transition("position").call(Cl).duration(250).ease(ni).call((function(r){var i=L(Fe(n[e]).style("stroke-width"),Fe(n[e]).node());return xs(r,os(t,i))}))})).call((function(e){return t.dispatch("update",{detail:{selection:e}})}))}function Ad(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sl(n),a=i.classString,o=i.selector,l=t.selectAll("".concat(o,".series-bar")).data(e).join("g").classed("".concat(a," series-bar"),!0),s=l.selectAll("rect").data((function(t){return t.getBars()}),(function(t){return t.key.rawKey})).call((function(t){return Sd(l,t)}));return{seriesS:l,barS:s}}function _d(t){var e=t.renderer,n=t.x,i=t.y,a=t.legend,o=t.breakpoints,l=t.title,s=t.subTitle,u="stacked"===t.series.type?new wd(r(r({},t.series),{key:"s-0",renderer:e})):"grouped"===t.series.type?new xd(r(r({},t.series),{key:"s-0",renderer:e})):new bd(r(r({},t.series),{key:"s-0",renderer:e})),c=ed({renderer:e,series:u,x:n,y:i,legend:a,breakpoints:o,title:l,subTitle:s});return r(r({},c),{series:u})}var kd=function(t){function e(e,n){var r=t.call(this)||this;return r._windowS=e,r.revalidate(n),r}return n(e,t),Object.defineProperty(e.prototype,"windowS",{get:function(){return this._windowS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartS",{get:function(){return this._chartS&&!this._chartS.empty()?this._chartS:this.layouterS.selectAll("svg.chart")},enumerable:!1,configurable:!0}),e.prototype.renderContent=function(){var t,e,n,r;this.renderSeriesChartComponents();var i=this.chartS.datum().series.cloneToRenderData().applyZoom().applyFilter(),a=Ad(this.drawAreaS,[i]),o=a.seriesS,l=a.barS;this.addAllSeriesFeatures(o),this.drawAreaS.selectAll(".series-label").attr("layout-strategy",null!==(n=null===(e=null===(t=l.data()[0])||void 0===t?void 0:t.labelData)||void 0===e?void 0:e.positionStrategy)&&void 0!==n?n:null).attr("data-inverted",(null===(r=l.data()[0])||void 0===r?void 0:r.inverted)?"true":null),this.renderCartesianComponents()},e.prototype.revalidate=function(t){var e=$u(r(r({},t),{type:"bar",renderer:this})),n=_d(r(r({},t),{renderer:this}));this.windowS.datum(r(r({},e),n))},e}(ic);Bs(kd,[ld,Wc]);var Md=function(t){function e(e){var n=t.call(this,e)||this;return n._series=e.series,n}return n(e,t),e.prototype.update=function(){t.prototype.update.call(this);var e=this._series.originalData.radii,n=this._series.renderer.chartS;!function(){if("number"==typeof e)return;if(e instanceof eu)return;!function(t){if(!(t.extrema instanceof eu))return void t.scale.range([t.extrema.minimum,t.extrema.maximum]);var e=t.extrema.getRespValInterpolated({chart:n}),r=e.preBreakpoint,i=e.postBreakpoint,a=e.firstBreakpoint,o=e.lastBreakpoint;if(null===i)return void t.scale.range([o.value.minimum,o.value.maximum]);if(null===r)return void t.scale.range([a.value.minimum,a.value.maximum]);var l=xl(n).getBoundingClientRect()[t.extrema.dependentOn],s=i.length-r.length,u=l-r.length,c=i.value.minimum-r.value.minimum,d=i.value.maximum-r.value.maximum,h=r.value.minimum+u/s*c,f=r.value.maximum+u/s*d;t.scale.range([h,f])}(e)}(),n.style("--max-radius",this.getMaxRadius()+"px")},e.prototype.getRadius=function(t){var e=this._series.originalData.radii,n=this._series.renderer.chartS;return"number"==typeof e?e:e instanceof eu?function(t){var e=t.getRespValInterpolated({chart:n}),r=e.preBreakpoint,i=e.postBreakpoint,a=e.firstBreakpoint,o=e.lastBreakpoint;if(null===i)return o.value;null===r&&((r=a).length=0);var l=xl(n).getBoundingClientRect()[t.dependentOn],s=i.length-r.length,u=l-r.length,c=i.value-r.value;return r.value+u/s*c}(e):e.scale(e.values[t])},e.prototype.getMaxRadius=function(){var t=this._series.originalData.radii;return"number"==typeof t?t:t instanceof eu?this.getRadius(0):Math.max.apply(Math,o([],a(t.scale.range()),!1))},e.prototype.getRadiusValue=function(t){var e=this._series.renderData.radii;return"number"==typeof e?e:e instanceof eu?void 0:e.values[t]},e.prototype.getPointCircle=function(t){var e;return{center:{x:this.horizontalVals().getScaledValue(t),y:this.verticalVals().getScaledValue(t)},radius:null!==(e=this.getRadius(t))&&void 0!==e?e:5}},e}(cd);function Cd(t){return"number"==typeof t||Js(t)}function Dd(t){return tu(t||5)}function Vd(t){return"number"==typeof t.minimum&&"number"==typeof t.maximum}function Td(t){var e,n=t.series,i=t.renderer,l=t.values,s=function(t){var e=tu(t);if(e instanceof eu){var n=e.mapping;return Object.values(n).forEach((function(t){if(t.minimum>t.maximum)throw new Error(M.invalidExtremaCombination)})),e}if(!Vd(e))throw new Error(M.invalidResponsiveValue);return e}(t.extrema);return{extrema:s,values:l,scale:null!==(e=t.scale)&&void 0!==e?e:Ii().domain([Math.min.apply(Math,o([],a(l),!1)),Math.max.apply(Math,o([],a(l),!1))]).nice(),axis:hu(r(r({},t.axis),{renderer:i,series:n,scaledValues:Vu({values:l},"ar-0")})),tag:"bubble"}}var Rd=function(){function t(t){var e,n,r,i;this.values=t.values,this.offset=null!==(e=t.offset)&&void 0!==e?e:0,this.positionStrategyHorizontal=null!==(n=t.positionStrategyHorizontal)&&void 0!==n?n:"center",this.positionStrategyVertical=null!==(r=t.positionStrategyVertical)&&void 0!==r?r:"top",this.format=null!==(i=t.format)&&void 0!==i?i:function(t,e){return e}}return t.prototype.getLabelData=function(t){return{value:this.values[t],offset:this.offset,positionStrategyHorizontal:this.positionStrategyHorizontal,positionStrategyVertical:this.positionStrategyVertical,format:this.format}},t}();function zd(t,e){return r(r({},dd(t,e)),{radii:Cd(t.radii)||!t.radii?Dd(t.radii):Td(r(r({},t.radii),{renderer:t.renderer,series:e})),markerTooltipGenerator:t.markerTooltipGenerator,labels:t.labels?new Rd(t.labels):void 0})}function Ed(t){return hd(t)}var jd=function(t){function e(e){var n=t.call(this)||this;return n.originalData=zd(e,n),n.renderData=n.originalData,n.renderer=e.renderer,n.responsiveState=new Md({series:n,flipped:"flipped"in e&&e.flipped}),n}return n(e,t),e.prototype.renderLegendInfo=function(t){!function(t,e){var n=e.renderData.radii;if(!("number"==typeof n||n instanceof eu)){var r=a(n.scale.range(),2),i=r[0],o=r[1];t.style(D["--min-radius"],"".concat(i,"px")).style(D["--max-radius"],"".concat(o,"px"));var l=t.selectAll(".legend__radius-scale").data([null]).join("g").classed("legend__radius-scale",!0);l.selectAll(".elements").data([null]).join("g").classed("elements",!0).selectAll(".element.point").data([i,o]).join("circle").classed("element",!0).classed("point",!0).attr("r",(function(t){return t}));var s=ms(l.attr("bounds")||"0, 0, 600, 400"),u=s.width;s.height,n.axis.scaledValues.scale.range([0,u]),l.selectAll(".axis").data([n.axis]).join("g").call((function(t){return cu(t,"horizontal")})).classed("axis",!0)}}(t,this)},e.prototype.cloneToRenderData=function(){return this.renderData=Ed(this.originalData),this},e.prototype.applyZoom=function(){return t.prototype.applyZoom.call(this)},e.prototype.applyFilter=function(){return t.prototype.applyFilter.call(this)},e.prototype.applyInversion=function(){throw new Error("Method not implemented.")},e}(sd);function Fd(t){var e=t.renderer,n=t.x,i=t.y,l=t.legend,s=t.breakpoints,u=t.title,c=t.subTitle,d=new jd(r(r({},t.series),{key:"s-0",renderer:e})),h=ed({renderer:e,series:d,x:n,y:i,legend:l,breakpoints:s,title:u,subTitle:c}),f=d.originalData,p=f.radii;f.color;var g="number"!=typeof p&&!(p instanceof eu);return h.getAxes=g?function(){return o(o([this.x,this.y],a(this.series.originalData.color?[this.series.originalData.color.axis]:[]),!1),[this.series.originalData.radii.axis],!1)}:h.getAxes,r(r({},h),{series:d})}function Pd(t,e){var n=bl(t,"--transition-time-line-enter-ms"),r=n?parseInt(n):250;function i(e){e.attr("cx",(function(t){return t.center.x})).attr("cy",(function(t){return t.center.y})).attr("data-style",(function(t){return t.color?null:t.styleClass})).attr("fill",(function(t){return t.color?t.color:null})).attr("data-key",(function(t){return t.key.rawKey})).classed("exiting",!1).classed("exit-done",!1).call((function(e){return t.dispatch("update",{detail:{selection:e}})})).each((function(t,e,n){var i=Fe(n[e]);i.classed("mid-d3-transit")?i.interrupt().transition("update-radius").duration(r).attr("r",(function(t){return t.radius})).call(Cl):i.attr("r",(function(t){return t.radius}))}))}e.join((function(e){return e.append("circle").classed("element point",!0).each((function(t,e,n){Ds(Fe(n[e]),Rs(t))})).call(Dl).call(i).call((function(e){return t.dispatch("enter",{detail:{selection:e}})}))}),void 0,(function(e){return e.classed("exiting",!0).transition().duration(r).call(Cl).each((function(t,e,n){Ds(Fe(n[e]).transition("minimize").duration(r).call(Cl),Rs(t))})).on("end",(function(){e.remove()})).call((function(e){return t.dispatch("exit",{detail:{selection:e}})}))})),e.call(i)}var Ld=function(){function t(t){this.xValue=t.xValue,this.yValue=t.yValue,this.category=t.category,this.categoryFormatted=t.categoryFormatted,this.radiusValue=t.radiusValue,this.styleClass=t.styleClass,this.key=t.key,this.center=t.center,this.radius=t.radius,this.color=t.color,this.colorValue=t.colorValue,this.labelData=t.label}return t.prototype.getLabel=function(){return this.labelData?r(r({},this.labelData),{x:this.getLabelX(),y:this.getLabelY(),marker:this,text:this.labelData.format(this,this.labelData.value)}):[]},t.prototype.getLabelX=function(){var t=this.labelData,e=t.positionStrategyHorizontal,n=t.offset;return"left"===e?this.center.x-this.radius-n:"right"===e?this.center.x+this.radius+n:this.center.x},t.prototype.getLabelY=function(){var t=this.labelData,e=t.positionStrategyVertical,n=t.offset;return"top"===e?this.center.y-this.radius-n:"bottom"===e?this.center.y+this.radius+n:this.center.y},t}();function Id(t,e){var n,r,i=t.renderData,a=i.key,o=i.keysActive,l=i.categories,s=i.x,u=i.y,c=i.color,d=i.radii,h=null==c?void 0:c.axis.scaledValues,f="object"==typeof d&&"tag"in d?d.axis.scaledValues:void 0,p=[],g=new Array(l?l.categories.categoryArray.length:1).fill(0).map((function(){return[]}));if(!o[a]&&!e)return p;if(!o[a]&&e)return g;for(var v=0;v<s.values.length;v++)if((!l||l.isValueActive(v))&&s.isValueActive(v)&&u.isValueActive(v)&&(null===(n=null==h?void 0:h.isValueActive(v))||void 0===n||n)&&(null===(r=null==f?void 0:f.isValueActive(v))||void 0===r||r)){var y=Od(t,v);if(p.push(y),g&&l){var m=l.values[v];g[l.categories.categoryMap[m].order].push(y)}else g[0].push(y)}return!1===e?p:g}function Od(t,e){var n,i=t.renderData,a=t.responsiveState,o=i.categories,l=i.color,s=i.labels,u=null==o?void 0:o.values[e];return new Ld(r(r({},a.getPointCircle(e)),{xValue:a.horizontalVals().values[e],yValue:a.verticalVals().values[e],color:null==l?void 0:l.scale(null==l?void 0:l.values[e]),colorValue:null==l?void 0:l.values[e],radiusValue:a.getRadiusValue(e),key:new P(i.getCombinedKey(e)+" i-".concat(e)),styleClass:null!==(n=null==o?void 0:o.getStyleClass(e))&&void 0!==n?n:_,category:u,categoryFormatted:u?null==o?void 0:o.categories.categoryMap[u].formatValue:void 0,label:null==s?void 0:s.getLabelData(e)}))}function Nd(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sl(n),a=i.classString,o=i.selector,l=t.selectAll("".concat(o,".series-point")).data(e).join("g").classed("".concat(a," series-point"),!0).attr("data-ignore-layout-children",!0),s=l.selectAll(".point").data((function(t){return Id(t,!1)}),(function(t){return t.key.rawKey})).call((function(t){return Pd(l,t)}));return{seriesS:l,pointS:s}}var Bd=function(t){function e(e,n){var r=t.call(this)||this;return r._windowS=e,r.revalidate(n),r}return n(e,t),Object.defineProperty(e.prototype,"windowS",{get:function(){return this._windowS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartS",{get:function(){return this._chartS&&!this._chartS.empty()?this._chartS:this.layouterS.selectAll("svg.chart")},enumerable:!1,configurable:!0}),e.prototype.renderContent=function(){var t,e,n,r,i,a;this.renderSeriesChartComponents();var o=this.chartS.datum().series.cloneToRenderData().applyFilter().applyZoom(),l=Nd(this.drawAreaS,[o]),s=l.seriesS,u=l.pointS;this.addAllSeriesFeatures(s),s.call(qc),this.drawAreaS.selectAll(".series-label").attr("layout-strategy-horizontal",null!==(n=null===(e=null===(t=u.data()[0])||void 0===t?void 0:t.labelData)||void 0===e?void 0:e.positionStrategyHorizontal)&&void 0!==n?n:null).attr("layout-strategy-vertical",null!==(a=null===(i=null===(r=u.data()[0])||void 0===r?void 0:r.labelData)||void 0===i?void 0:i.positionStrategyVertical)&&void 0!==a?a:null),this.renderCartesianComponents()},e.prototype.revalidate=function(t){var e=$u(r(r({},t),{type:"point",renderer:this})),n=Fd(r(r({},t),{renderer:this}));this.windowS.datum(r(r({},e),n))},e}(ic);Bs(Bd,[ld,Wc]);var Kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.cloneToRenderData=function(){return this.renderData=Ed(this.originalData),this},e.prototype.applyZoom=function(){return t.prototype.applyZoom.call(this)},e.prototype.applyFilter=function(){return t.prototype.applyFilter.call(this)},e.prototype.applyInversion=function(){throw new Error("Method not implemented.")},e}(jd);function Ud(t){var e=t.renderer,n=t.x,i=t.y,a=t.legend,o=t.breakpoints,l=t.title,s=t.subTitle,u=new Kd(r(r({},t.series),{key:"s-0",renderer:e})),c=ed({renderer:e,series:u,x:n,y:i,legend:a,breakpoints:o,title:l,subTitle:s});return r(r({},c),{series:u})}function Yd(t,e){var n=bl(t,"--transition-time-line-enter-ms"),r=n?parseInt(n):250;e.join((function(e){return e.append("path").classed("element line",!0).call((function(t){Tl(t,r)})).call((function(e){return t.dispatch("enter",{detail:{selection:e}})}))}),(function(t){return t.call((function(){t.call(zl)}))}),(function(e){return e.call((function(n){Rl(n,r).on("end.Remove",(function(){Fe(this).classed("exit-done")&&e.remove().call((function(e){return t.dispatch("exit",{detail:{selection:e}})}))}))}))})).each((function(t,e,n){return Os(n[e],t.positions)})).attr("data-style",(function(t){return t.styleClass})).attr("data-key",(function(t){return t.key})).call((function(e){return t.dispatch("update",{detail:{selection:e}})})).on("pointerover.serieslinehighlight pointerout.serieslinehighlight",(function(t){return t.target.classList.toggle("highlight",t.type.endsWith("over"))}))}function Hd(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sl(n),a=i.classString,o=i.selector,l=t.selectAll("".concat(o,".series-line")).data(e).join("g").classed("".concat(a," series-line"),!0).attr("data-ignore-layout-children",!0),s=function(t){return l.selectAll(".series-".concat(t)).data((function(t){return[t]})).join("g").classed("series-".concat(t),!0)};l.each((function(t){var e=s("line-line"),n=s("line-point"),r=Id(t,!0);!function(t,e){t.selectAll(".point-category").data(e).join("g").classed("point-category",!0).selectAll(".point").data((function(t){return t}),(function(t){return t.key.rawKey})).call((function(e){return Pd(t,e)}))}(n,r),function(t,e){var n=t.datum().renderData,r=n.getMergedKeys(),i=(r.length>0?r.map((function(t){return E([n.key,t])})):[n.key]).map((function(t,n){var r,i;return{key:t,positions:e[n].map((function(t){return t.center})),styleClass:null!==(i=null===(r=e[n][0])||void 0===r?void 0:r.styleClass)&&void 0!==i?i:_}})).filter((function(t){return 0!==t.positions.length}));t.selectAll("path").data(i,(function(t){return t.key})).call((function(e){return Yd(t,e)}))}(e,r)}));var u=l.selectAll(".series-line-line"),c=u.selectAll(".line"),d=l.selectAll(".series-line-point"),h=d.selectAll(".point");return{seriesS:l,lineSeriesS:u,lineS:c,pointSeriesS:d,pointS:h}}var qd=function(t){function e(e,n){var r=t.call(this)||this;return r._windowS=e,r.revalidate(n),r}return n(e,t),Object.defineProperty(e.prototype,"windowS",{get:function(){return this._windowS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartS",{get:function(){return this._chartS&&!this._chartS.empty()?this._chartS:this.layouterS.selectAll("svg.chart")},enumerable:!1,configurable:!0}),e.prototype.renderContent=function(){var t,e,n,r,i,a;this.renderSeriesChartComponents();var o=this.chartS.datum().series.cloneToRenderData().applyFilter().applyZoom(),l=Hd(this.drawAreaS,[o]),s=l.lineSeriesS,u=l.pointSeriesS,c=l.pointS;this.addAllSeriesFeatures(u),s.call(qc),this.drawAreaS.selectAll(".series-label").attr("layout-strategy-horizontal",null!==(n=null===(e=null===(t=c.data()[0])||void 0===t?void 0:t.labelData)||void 0===e?void 0:e.positionStrategyHorizontal)&&void 0!==n?n:null).attr("layout-strategy-vertical",null!==(a=null===(i=null===(r=c.data()[0])||void 0===r?void 0:r.labelData)||void 0===i?void 0:i.positionStrategyVertical)&&void 0!==a?a:null),this.renderCartesianComponents()},e.prototype.revalidate=function(t){var e=$u(r(r({},t),{type:"line",renderer:this})),n=Ud(r(r({},t),{renderer:this}));this.windowS.datum(r(r({},e),n))},e}(ic);Bs(qd,[Wc,ld]);var $d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M5 12l5 5l10 -10" />\n</svg>\n';function Xd(t){var e=t.series,n=e.renderer,r=e.originalData.axesPercentageScale;if(n.windowS.datum().settings.get("parcoordEquidistantAxes")){var i=r.range(),a=ts.mapToRanks(i),o=a.map((function(t){return(t-1)/(a.length-1)}));r.range(o),n.windowS.dispatch("resize")}}function Wd(t,e){var n=t.selectAll(".dialog--center.dialog--chart");(function(t,e){var n,r=e.renderer.windowS.datum().settings,i=function(t,e){r.setDeferred(e,t.target.checked)},a=null!==(n=r.snapshot.parcoordEquidistantAxes)&&void 0!==n?n:r.get("parcoordEquidistantAxes"),o=[{legend:"Parallel Coordinates Settings",labelData:[new zc({label:"Equidistant Axes",type:Hu.parcoordEquidistantAxes,defaultVal:a,onChange:i})]}];return Vc(t,o,"item","item--parcoord-settings")})(n,e).call(_c),function(t,e){var n=t.selectAll(".button--icon.button--confirm").data([null]).join("button").classed("button--icon button--confirm",!0).on("click.confirm",(function(){var t;e.renderer.windowS.datum().settings.update(),null===(t=Fe(this.closest("dialog")).datum())||void 0===t||t.triggerExit(),Xd(e.renderData.axes[0])}));n.selectAll("span").data([null]).join("span").text("Ok"),Mc(n,[$d])}(n,e)}function Zd(t){var e={};e[t.key]=!0;var n=r(r({},hu(t)),{originalAxis:this,series:t.series,key:t.key,keysActive:e,upperRangeLimitPercent:1,lowerRangeLimitPercent:0,setKeyActiveIfDefined:function(t,e){void 0!==this.keysActive[t]&&(this.keysActive[t]=e)},isKeyActiveByKey:function(t){return!1!==this.keysActive[t]},isValueInRangeLimit:function(t){var e=this,n=this.series.renderData,r=n.axes,i=n.axesInverted,a=r.findIndex((function(t){return t.key===e.key})),o=this.series.responsiveState.currentlyFlipped,l=i[a],s=this.scaledValues.scale.range();if(o){var u=l?s[0]:s[1],c=u*this.upperRangeLimitPercent;return t>=u*this.lowerRangeLimitPercent&&t<=c}var d=l?s[1]:s[0],h=d-d*this.upperRangeLimitPercent;return t<=d-d*this.lowerRangeLimitPercent&&t>=h}});return n.originalAxis=n,n}function Gd(t,e){var n=t.dimensions.map((function(n,i){return Zd(r(r({},n.axis),{renderer:t.renderer,series:e,scaledValues:Vu(n.scaledValues,"a-".concat(i)),key:"a-".concat(i)}))}));if(1===n.length)throw new Error(M.parcoordMinAxesCount);var i=void 0;if(t.categories){var a=r(r({},t.categories),{values:ts.equalizeLengths(t.categories.values,n[0].scaledValues.values)[0]});i=new xu(r(r({},a),{parentKey:"s-0"}))}if(i&&i.values.length!==n[0].scaledValues.values.length)throw new Error(M.categoricalValuesMismatch);var o=n.length>1?n.length-1:1,l=r(r({},Zc(t,e)),{axes:n,axesPercentageScale:Ai().domain(n.map((function(t){return t.key}))).range(n.map((function(t,e){return e/o}))),percentageScreenScale:Ii().domain([0,1]),zooms:t.dimensions.map((function(t){return t.zoom?ju(t.zoom):void 0})),axesInverted:n.map((function(){return!1})),getCombinedKey:function(t){var e=this.categories?this.categories.getCategoryData(t).combinedKey:void 0;return E([this.key,this.axes[t].key,e])}});if(l.color&&l.color.values.length!==n[0].scaledValues.values.length)throw new Error(M.sequentialColorValuesMismatch);return l}function Qd(t){return r(r({},t),{axes:t.axes.map((function(t){return r(r({},t),{scaledValues:t.scaledValues.clone()})})),axesPercentageScale:t.axesPercentageScale.copy(),percentageScreenScale:t.percentageScreenScale.copy()})}var Jd=function(t){function e(e){var n=t.call(this,e)||this;return n._series=e.series,n._axisLayout=n.currentlyFlipped?"bottom":"left",n}return n(e,t),Object.defineProperty(e.prototype,"axisLayout",{get:function(){return this._axisLayout},enumerable:!1,configurable:!0}),e.prototype.getAxisPosition=function(t){var e,n=this._series.renderData,r=n.axesPercentageScale,i=n.percentageScreenScale,a=null!==(e=r(t))&&void 0!==e?e:0;return this.currentlyFlipped?{x:0,y:i(a)}:{x:i(a),y:0}},e.prototype.update=function(){this.updateZoomOnFlip(),t.prototype.update.call(this),this.updateScales()},e.prototype.updateScales=function(){var t=this.drawAreaRange(),e=t.horizontal,n=t.vertical,r=this.currentlyFlipped?n:e;this._axisLayout=this.currentlyFlipped?"bottom":"left";var i=this.currentlyFlipped?"horizontal":"vertical",a=this._series.originalData,o=a.axes,l=a.percentageScreenScale;o.forEach((function(t){return t.scaledValues.updateRange(e,n,i)})),l.range(r)},e.prototype.updateZoomOnFlip=function(){this._previouslyFlipped!==this._currentlyFlipped&&this._series.originalData.zooms.forEach((function(t){(null==t?void 0:t.currentTransform)&&1!==t.currentTransform.k&&(t.currentTransform=new ll(1,0,0))}))},e}(Gc),th=function(){function t(t){this.renderer=t.renderer,this.originalData=Gd(t,this),this.renderData=this.originalData,this.responsiveState=new Jd({series:this,flipped:t.flipped})}return t.prototype.getAxesDragDropOrdered=function(){var t=this.renderData,e=t.axes,n=t.axesPercentageScale;return o([],a(e),!1).sort((function(t,e){return n(t.key)<n(e.key)?-1:1}))},t.prototype.getScaledValuesAtScreenPosition=function(t,e){var n,r,i=this.applyFilter().renderData,a=i.axes,o=i.axesPercentageScale,l=i.percentageScreenScale,s=a[0].renderer.chartS,u=this.responsiveState.currentlyFlipped,c=u?e:t,d=u?t:e;function h(t){var e=l(o(t.key));return Math.abs(e-c)}var f=a.reduce((function(t,e){var n=h(e);return n<t.diff?{axis:e,diff:n}:t}),{axis:a[0],diff:h(a[0])}).axis,p="categorical"!==f.scaledValues.tag?f.scaledValues.scale.tickFormat():function(t){return t},g=null!==(r=null===(n=f.d3Axis)||void 0===n?void 0:n.tickFormat())&&void 0!==r?r:p,v=Qs(f.title,{chart:s}),y=f.scaledValues.atScreenPosition(d),m=g(y,0);return{horizontal:u?m:v,horizontalName:u?v:"Dimension",horizontalNearestRealValue:u?f.scaledValues.getNearestValue(y):v,horizontalScreenValue:u?y:v,vertical:u?v:m,verticalName:u?"Dimension":v,verticalNearestRealValue:u?v:f.scaledValues.getNearestValue(y),verticalScreenValue:u?v:y}},t.prototype.renderTool=function(t){Wd(t,this)},t.prototype.cloneToRenderData=function(){return this.renderData=Qd(this.originalData),this},t.prototype.applyFilter=function(){var t=this.renderData,e=t.axes,n=t.axesPercentageScale,i=t.zooms,a=t.axesInverted,o=t.keysActive[t.key]?e.map((function(t,e){return e})).filter((function(t){return e[t].isKeyActiveByKey(e[t].key)})):[],l=o.map((function(t){return e[t]}));l.forEach((function(t){return t.scaledValues=t.scaledValues.cloneFiltered()}));var s=l.map((function(t){return t.key})),u=l.map((function(t){return n(t.key)}));if(this.renderData=r(r({},this.renderData),{axes:l,zooms:o.map((function(t){return i[t]})),axesInverted:o.map((function(t){return a[t]}))}),this.renderData.axesPercentageScale.domain(s).range(u),1===this.renderData.axes.length)throw new Error(M.parcoordMinAxesCount);return this},t.prototype.applyZoom=function(){var t=this.renderData,e=t.axes,n=t.zooms,i=this.responsiveState.currentlyFlipped?"x":"y";return this.renderData.axes=e.map((function(t,e){var a=n[e];return a?r(r({},t),{scaledValues:t.scaledValues.cloneZoomed(a.currentTransform,i)}):t})),this},t.prototype.applyInversion=function(){var t=this.renderData,e=t.axes,n=t.axesInverted;return this.renderData.axes=e.map((function(t,e){return n[e]?r(r({},t),{scaledValues:t.scaledValues.cloneRangeInversed()}):t})),this},t}();function eh(t){var e=t.renderer,n=new th(r(r({},t.series),{renderer:e,key:"s-0"}));return r({getAxes:function(){return this.series.originalData.axes},getSeries:function(){return[this.series]},getMainSeries:function(){return this.series},series:n,legend:cc(r(r({},t.legend),{renderer:e,series:n}))},ac(t))}function nh(t){t.selectAll("path").data((function(t){return function(t){var e=[];if(0===t.length)return e;var n=t[0].series,r=n.renderData,i=r.keysActive,l=r.categories,s=r.key,u=t[0].scaledValues.values.length;if(!i[s])return e;for(var c=0;c<u;c++)if(!l||l.isValueActive(c)){var d=rh(t,c,n);if(0!==d.length){var h=null==l?void 0:l.getCombinedKey(c);e.push({key:E(o(o([s],a(h?[h]:[]),!1),["i-".concat(c)],!1)),styleClass:l?l.getStyleClass(c):_,positions:d})}}return e}(t.getAxesDragDropOrdered())}),(function(t){return t.key})).call((function(e){return Yd(t,e)}))}function rh(t,e,n){for(var r=[],i=n.responsiveState.currentlyFlipped,a=0;a<t.length;a++){var o=t[a],l=o.scaledValues.getScaledValue(e);if(!o.scaledValues.isValueActive(e)||!o.isValueInRangeLimit(l))return[];var s=n.originalData.axesPercentageScale(o.key),u=n.renderData.percentageScreenScale(s);r.push({y:i?u:l,x:i?l:u})}return r}function ih(t,e){var n=t.datum(),r=n.series.renderData.zooms[e];if(r){var i=El((function(t){return function(t,e){var n=t.transform,r=e.series.originalData,i=r.axes,a=r.zooms,o=i.findIndex((function(t){return t.key===e.key})),l=a[o];if(l){l.currentTransform=n,l.currentTransform="mousemove"===t.sourceEvent.type&&1===t.transform.k?sl:n;var s=e.series.responsiveState.drawAreaRange(),u=s.horizontal,c=s.verticalInverted,d=[[u[0],c[0]],[u[1],c[1]]];l.behaviour.extent(d).translateExtent(d)}}(t,n)}),30);t.call(r.behaviour.scaleExtent([r.out,r.in]).on("zoom.zoomAndDrag",(function(t){"dblclick"!==t.sourceEvent.type&&(i.func(t),n.series.renderer.windowS.dispatch("resize"))})).on("end.zoomAndDrag",(function(t){"mouseup"===t.sourceEvent.type&&Xd(n)})))}}function ah(t,e,n){var r=Sl(e),i=r.selector,a=r.classString,o=t.selectAll(i).data([null]).join("g").classed(a,!0).attr("data-ignore-layout-children",!0);return o.selectAll("path").data(null!=n?n:[{type:"right",scale:1}]).join("path").attr("d",(function(t){return"right"===t.type?oh("M0,0 l6,6 l-6,6 l0,-12",t.scale):oh("M0,0 l6,6 l6,-6 l-12,0",t.scale)})).attr("stroke-width",1.5).attr("fill","none").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke","#2c3e50").attr("pointer-events","none"),o}function oh(t,e){return t.replace(/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g,(function(t){return(parseFloat(t)*e).toString()}))}function lh(t){var e=t.datum().series.responsiveState.currentlyFlipped,n=e?"right":"down",r=ah(t,["slider-up"],[{type:n,scale:1}]);su(r,[{scale:4}],r.select("path")).classed("cursor",!0).classed("cursor--range-vertical",!e).classed("cursor--range-horizontal cursor--range-left",e);var i=ah(t,["slider-down"],[{type:n,scale:1}]);su(i,[{scale:4}],i.select("path")).classed("cursor",!0).classed("cursor--range-horizontal ",e).classed("cursor--range-vertical cursor--range-up",!e)}function sh(t){var e=t.datum();if(e){var n=e.series.responsiveState.currentlyFlipped,r=e.upperRangeLimitPercent<1||e.lowerRangeLimitPercent>0;t.selectAll(".slider-rect").data([null]).join("rect").classed("slider-rect",!0).classed("cursor cursor--range-rect",r).classed("cursor--range-rect-horizontal",n)}}function uh(t){var e,n,r=t.datum(),i=r.upperRangeLimitPercent,a=r.lowerRangeLimitPercent,o=r.scaledValues,l=r.series,s=t.selectAll(".slider-up"),u=t.selectAll(".slider-down"),c=t.selectAll(".slider-rect"),d=Pl(t.select(".domain"),s.select("path")),h=d.leftCornersXDiff,f=d.leftCornersYDiff,p=d.bbox2,g=d.bbox1;if(l.responsiveState.currentlyFlipped){var v=o.getRangeByPercent(i,!1,"horizontal"),y=o.getRangeByPercent(a,!1,"horizontal"),m="translate(".concat(-h-p.width,", ").concat(-f-p.height/2,")"),w="translate(".concat(-v,")"),x="translate(".concat(y,")");s.attr("transform","".concat("scale(-1, 1)"," ").concat(m," ").concat(w)),u.attr("transform","".concat(m," ").concat(x));var b=null!==(e=bl(c,"--rect-slider-breadth"))&&void 0!==e?e:"30",S=parseInt(b);c.attr("x",y).attr("width",v-y).attr("y",-1*S/2).attr("height",S)}else{var A=-h+g.width-p.width/2,_=(v=o.getRangeByPercent(i,!1,"vertical"))-p.height,k=(y=o.getRangeByPercent(a,!1,"vertical"))+p.height;s.attr("transform","translate(".concat(A,", ").concat(_,")")),u.attr("transform","translate(".concat(A,", ").concat(k,") ").concat("scale(1, -1)"));b=null!==(n=bl(c,"--rect-slider-breadth"))&&void 0!==n?n:"30",S=parseInt(b);c.attr("x",-1*S/2).attr("width",S).attr("y",v).attr("height",y-v)}}function ch(e){var n=e.datum().series,r=n.originalData,i=n.renderer,a=n.responsiveState,o=r.axes.find((function(t){return t.key===e.datum().key}));if(o){var l=e.selectAll(".slider-up").selectAll(".".concat(t)),s=e.selectAll(".slider-down").selectAll(".".concat(t)),u=e.selectAll(".slider-rect"),c=function(t,e){var n;"rect"===e?function(){var e=function(t){var e=_l(t,i.drawAreaBgS);if(void 0!==e)return a.currentlyFlipped?e.dxRelative:-e.dyRelative}(t);if(void 0!==e){var n=O(e,-o.lowerRangeLimitPercent,1-o.upperRangeLimitPercent);o.upperRangeLimitPercent+=n,o.lowerRangeLimitPercent+=n}}():(n=function(t){if(t.sourceEvent instanceof MouseEvent||t.sourceEvent instanceof TouchEvent){var e=Al(t.sourceEvent,i.drawAreaBgS);if(void 0!==e)return a.currentlyFlipped?e.fromLeftPercent:1-e.fromTopPercent}}(t),void 0!==n&&("upper"===e&&(o.upperRangeLimitPercent=O(n,o.lowerRangeLimitPercent,1)),"lower"===e&&(o.lowerRangeLimitPercent=O(n,0,o.upperRangeLimitPercent)))),i.windowS.dispatch("resize")},d=El(c,25);kl(l)||l.call(Ze().on("drag.dragAxisLimitUpper",(function(t){return d.func(t,"upper")})).on("end.dragAxisLimitUpper",(function(t){return c(t,"upper")}))),kl(s)||s.call(Ze().on("drag.dragAxisLimitLower",(function(t){return d.func(t,"lower")})).on("end.dragAxisLimitLower",(function(t){return c(t,"lower")}))),kl(u)||u.call(Ze().on("drag.dragAxisLimitRect",(function(t){return d.func(t,"rect")})).on("end.dragAxisLimitRect",(function(t){return c(t,"rect")})))}}var dh='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 19" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path d="M1 7l5 -6l5 6l-10 0" fill="#2c3e50"/>\n    <path d="M6 8l0 10" />\n</svg>\n';function hh(t){t.datum().series.responsiveState.currentlyFlipped?function(t){var e=t.datum().series,n=e.renderer,r=e.originalData,i=r.axes,a=r.axesInverted;t.selectAll(".title-wrapper .axis-inverter").remove();var o=fh(t,["axis-inverter","axis-inverter-horizontal"]).classed("layout-container",!0),l=su(o,[{scale:1.6}],o),s=i.findIndex((function(e){return e.key===t.datum().key}));t.classed("axis-inverted",a[s]),l.classed("cursor cursor--invert-horizontal",!0).classed("cursor--invert-right",a[s]).on("click",(function(){var e=i.findIndex((function(e){return e.key===t.datum().key}));a[e]=!a[e],t.classed("axis-inverted",a[e]),l.classed("cursor--invert-right",a[e]),n.windowS.dispatch("resize"),setTimeout((function(){n.windowS.dispatch("resize")}),500)}))}(t):function(t){var e=t.datum().series,n=e.renderer,r=e.originalData,i=r.axes,a=r.axesInverted;t.selectChildren(".axis-inverter").remove();var o=t.selectAll(".title-wrapper"),l=o.selectAll(".subtitle"),s=fh(l.empty()?o:l,["axis-inverter"]),u=su(s,[{scale:1.6}],s),c=i.findIndex((function(e){return e.key===t.datum().key}));t.classed("axis-inverted",a[c]),u.classed("cursor cursor--invert-vertical",!0).classed("cursor--invert-up",a[c]).on("click",(function(){var e=i.findIndex((function(e){return e.key===t.datum().key}));a[e]=!a[e],t.classed("axis-inverted",a[e]),u.classed("cursor--invert-up",a[e]),n.windowS.dispatch("resize"),setTimeout((function(){n.windowS.dispatch("resize")}),500)}))}(t)}function fh(t,e){var n=Sl(e),r=n.selector,i=n.classString,a=t.selectAll(".svg-wrapper"+r).data([null]).join("g").classed("svg-wrapper",!0).classed(i,!0),o=a.selectAll(".transform-wrapper").data([null]).join("g").classed("transform-wrapper",!0);return o.selectAll("svg").empty()&&(Mc(o,[dh]),o.selectAll("svg").attr("data-ignore-layout-children",!0)),a}function ph(t,e){var n,r,i=t.datum();kl(t.selectAll(".title-wrapper"))||(n=El((function(t){return function(t,e,n){if(t.sourceEvent instanceof MouseEvent||t.sourceEvent instanceof TouchEvent){var r=Al(t.sourceEvent,n);if(r){var i=e.series.originalData,a=i.axesPercentageScale.domain().indexOf(e.key),o=i.axesPercentageScale.range(),l=o[a],s=e.series.responsiveState.currentlyFlipped?1-r.fromTopPercent:r.fromLeftPercent;o.forEach((function(t,e){t===s&&e!==a&&(o[e]=t+(l>s?.01:-.01))})),o[a]=s,i.axesPercentageScale.range(o)}}}(t,i,i.renderer.drawAreaBgS)}),30),r=function(t){("mousemove"===t.sourceEvent.type||"touchmove"===t.sourceEvent.type)&&(n.func(t),i.series.renderer.windowS.dispatch("resize"))},t.selectAll(".title-wrapper").call(Ze().on("drag.dragAxis",r).on("end.dragAxis",(function(){return Xd(i)}))))}function gh(t){t.selectAll(".axis.axis-sequence").data((function(t){return t.renderData.axes}),(function(t){return t.key})).join("g").each((function(t,e,n){var r=Fe(n[e]);du(r,t.series.responsiveState.currentlyFlipped?"horizontal":"vertical"),function(t){t.each((function(t,e,n){Fe(n[e]).call(lh).call(sh).call(uh).call(ch)}))}(r),ph(r),ih(r,e),hh(r),function(t){var e=t.datum().series,n=e.responsiveState,r=e.originalData,i=r.axes,a=r.axesPercentageScale,o=n.currentlyFlipped,l=i.findIndex((function(e){return e.key===t.datum().key})),s=a.range(),u=ts.mapToRanks(s);t.selectAll(".title-wrapper").classed("cursor",!0).classed("cursor--drag-horizontal",!o).classed("cursor--drag-right-only",!o&&1===u[l]).classed("cursor--drag-left-only",!o&&u[l]===u.length).classed("cursor--drag-vertical",o).classed("cursor--drag-up-only",o&&1===u[l]).classed("cursor--drag-down-only",o&&u[l]===u.length)}(r)})).attr("transform",(function(t,e){var n=t.series.responsiveState.getAxisPosition(t.key),r=n.x,i=n.y;return"translate(".concat(r,", ").concat(i,")")})).each((function(e,n,r){return t.dispatch("enter",{detail:{selection:Fe(r[n])}})}))}var vh=function(t){function e(e,n){var r=t.call(this)||this;return r._windowS=e,r.revalidate(n),r}return n(e,t),Object.defineProperty(e.prototype,"windowS",{get:function(){return this._windowS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartS",{get:function(){return this._chartS&&!this._chartS.empty()?this._chartS:this.layouterS.selectAll("svg.chart")},enumerable:!1,configurable:!0}),e.prototype.renderContent=function(){this.renderSeriesChartComponents();var t=this.chartS.datum().series.cloneToRenderData().applyFilter().applyZoom().applyInversion(),e=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sl(n),a=i.classString,o=i.selector,l=t.selectAll("".concat(o,".series-parcoord")).data(e).join("g").classed("".concat(a," series-parcoord"),!0).attr("data-ignore-layout-children",!0),s=function(t){return l.selectAll(".series-".concat(t)).data((function(t){return[t]})).join("g").classed("series-".concat(t),!0)};l.each((function(t){var e=s("parcoord-line"),n=s("parcoord-axis");nh(e),gh(n)}));var u=l.selectAll(".series-parcoord-line"),c=u.selectAll(".line"),d=l.selectAll(".series-parcoord-axis"),h=d.selectAll(".axis");return{seriesS:l,lineSeriesS:u,lineS:c,axisSeriesS:d,axisS:h}}(this.drawAreaS,[t]).lineSeriesS;e.call(qc)},e.prototype.revalidate=function(t){var e=$u(r(r({},t),{type:"parcoord",renderer:this})),n=eh(r(r({},t),{renderer:this}));this.windowS.datum(r(r({},e),n))},e}(ic);Bs(vh,[Wc]);export{g as AxisLayouts,f as AxisLayoutsHorizontal,p as AxisLayoutsVertical,fd as Bar,kd as BarChart,xd as BarGroupedSeries,yd as BarLabelsDataCollection,wd as BarStackedSeries,bd as BarStandardSeries,eu as BreakpointProperty,Hs as Breakpoints,s as CSSBreakpointLengthRegex,c as CSSLengthRegex,ld as CartesianChartMixin,cd as CartesianResponsiveState,sd as CartesianSeries,ic as Chart,zc as CheckBoxLabel,qs as ComponentBreakpoints,Wc as DataSeriesChartMixin,Jc as EmptySeries,M as ErrorMessages,P as Key,l as LengthDimensions,qd as LineChart,Kd as LineSeries,h as Orientations,vh as ParcoordChart,Jd as ParcoordResponsiveState,th as ParcoordSeries,Ld as Point,Rd as PointLabelsDataCollection,jd as PointSeries,ts as RVArray,Xs as ResponsivePropertyBase,Gc as ResponsiveState,Gs as ResponsiveValue,qu as Revertible,xu as ScaledValuesCategorical,zu as ScaledValuesCumulativeSummation,Au as ScaledValuesNumeric,yu as ScaledValuesSpatialBase,Su as ScaledValuesTemporal,Bd as ScatterPlot,jl as ThrottleScheduled,Lu as Tooltip,Tl as addCSSTransitionEnterClass,Rl as addCSSTransitionExitClass,Cl as addD3TransitionClass,Dl as addD3TransitionClassForSelection,oc as addLegendHoverHighlighting,qc as addSeriesHighlighting,Tu as alignScaledValuesLengths,wl as applyClassList,Bs as applyMixins,Ml as attachActiveCursorLocking,t as backgroundSVGOnly,Pl as bboxDiffSVG,pc as bindOpenerToDialog,O as calcLimited,zl as cancelExitClassOnUpdate,v as categoryRegex,ks as circleEquals,zs as circleFitStroke,Ts as circleFromAttrs,Cs as circleFromString,js as circleInsideRect,Rs as circleMinimized,Fs as circleOutsideRect,Es as circlePosition,_s as circleRound,Ds as circleToAttrs,Vs as circleToAttrsFromSelection,Ps as circleToPath,Ms as circleToString,hd as cloneCartesianSeriesData,Qd as cloneParcoordData,Ed as clonePointSeriesData,E as combineKeys,lc as createLegendItems,Id as createPoints,Sl as createSelectionClasses,L as cssLengthInPx,D as cssVarDefaultsKeys,bl as cssVarFromSelection,V as cssVars,C as cssVarsDefaults,w as defaultExtrema,A as defaultLayoutIndex,S as defaultScope,_ as defaultStyleClass,Yu as defaultWindowSettings,R as detectClassChange,Ys as elementAbsoluteBounds,Ql as elementComputedStyleWithoutDefaults,xl as elementFromSelection,Us as elementRelativeBounds,es as elementSVGPresentationAttrs,ns as elementSVGTransformStyles,Ls as ellipseInsideRect,Is as ellipseToAttrs,Tc as fieldsetCollapseWrapperRender,gi as format,Fl as formatWithDecimalZero,y as genKeyObjectFromObject,F as getActiveKeys,I as getCSSVarLengthInPx,Qs as getCurrentResponsiveValue,$s as getLayoutWidthIndexFromCSS,ud as handleZoom,kl as hasDrag,Cd as isBaseRadiusUserArgs,Js as isBreakpointPropertyUserArgsResponsive,u as isCSSBreakpointLengthValue,d as isCSSLengthValue,Jl as isElement,Vd as isExtrema,Ws as isResponsiveValueUserArgsResponsive,fu as isScale,gu as isScaleCategory,pu as isScaleNumeric,vu as isScaleTime,Sd as joinBarSeries,Yd as joinLineSeries,Pd as joinPointSeries,tc as layedOutChildren,rc as layoutContainerCompute,Ju as layoutNodeChildren,nc as layouterCompute,Os as lineToPath,ml as mapSelection,m as maxBreakpointCount,j as mergeKeys,k as noParentKey,Ns as normalizeAngle,Ru as orderScaledValuesSpatial,Il as positionEquals,Kl as positionFromAttrs,Nl as positionFromString,Ll as positionRound,Yl as positionSVGTextToLayoutCenter,Bl as positionToAttrs,Ol as positionToString,Ul as positionToTransformAttr,b as pxLowerLimit,x as pxUpperLimit,cs as rectBottom,fs as rectBottomLeft,ps as rectBottomRight,ss as rectCenter,is as rectEquals,os as rectFitStroke,bs as rectFromAttrs,Ss as rectFromSize,ms as rectFromString,ds as rectLeft,as as rectMinimized,ls as rectPosition,hs as rectRight,rs as rectRound,xs as rectToAttrs,As as rectToPath,ys as rectToString,ws as rectToViewBox,us as rectTop,vs as rectTopLeft,gs as rectTopRight,Al as relateDragWayToSelection,_l as relateDragWayToSelectionByDiff,Vl as removeD3TransitionClassSelection,Ec as renderAttributeRemovalOptions,cu as renderAxisLayout,du as renderAxisSequence,Ad as renderBarSeries,su as renderBgSVGOnlyBBox,uu as renderBgSVGOnlyByRect,nd as renderCartesianAxes,Wu as renderChart,Nu as renderDataSeriesTooltip,Fc as renderDecimalNumberOptions,fc as renderDialog,Pc as renderDownloadTool,Lc as renderElementRemovalOptions,Vc as renderFieldset,rd as renderGrid,kc as renderInputLabel,_c as renderInputLabels,$c as renderLabelSeries,Xc as renderLabels,ec as renderLayouter,uc as renderLegend,sc as renderLegendCategories,Hd as renderLineSeries,Ku as renderMovableCrossTooltip,od as renderOriginLine,Nd as renderPointSeries,Mc as renderSVGSeries,Rc as renderStyleTypeOptions,Hc as renderToolbar,Bu as renderTooltip,Uu as renderWindow,Xu as resizeEventListener,_i as scaleBand,Ii as scaleLinear,Ai as scaleOrdinal,Mi as scalePoint,Ui as scalePow,il as scaleSequential,Fe as select,Le as selectAll,Iu as setTooltipVisibility,$l as sizeEquals,Gl as sizeFromAttrs,Wl as sizeFromString,ql as sizeRound,Zl as sizeToAttrs,Xl as sizeToString,z as splitKey,El as throttle,Fa as timeFormat,Ca as timeYear,Pu as tooltipPositionStrategies,Fu as tooltipSelector,Ks as uniqueId,Ou as updateTooltipPositionCSSVars,_d as validateBarChart,hu as validateBaseAxis,Dd as validateBaseRadius,tu as validateBreakpointProperty,Td as validateBubbleRadius,td as validateCartesianAxis,ed as validateCartesianChart,dd as validateCartesianSeriesArgs,nu as validateCategories,ac as validateChart,Zc as validateDataSeriesArgs,Zd as validateKeyedAxis,cc as validateLegend,Ud as validateLineChart,eh as validateParcoordChart,Gd as validateParcoordSeriesArgs,zd as validatePointSeriesArgs,Zs as validateResponsiveValue,Vu as validateScaledValuesSpatial,Fd as validateScatterPlot,Eu as validateSequentialColor,$u as validateWindow,ju as validateZoom,Hu as windowSettingsKeys};
//# sourceMappingURL=respvis.min.js.map
